<html lang="en">
<head>
<title>Pragma Warning_As_Error - GNAT Reference Manual</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="GNAT Reference Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Implementation-Defined-Pragmas.html#Implementation-Defined-Pragmas" title="Implementation Defined Pragmas">
<link rel="prev" href="Pragma-Volatile.html#Pragma-Volatile" title="Pragma Volatile">
<link rel="next" href="Pragma-Warnings.html#Pragma-Warnings" title="Pragma Warnings">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--

     GNAT Reference Manual , March 24, 2015

     AdaCore

     Copyright (C) 2008-2015, Free Software Foundation
-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Pragma-Warning_As_Error"></a>
<a name="Pragma-Warning_005fAs_005fError"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Pragma-Warnings.html#Pragma-Warnings">Pragma Warnings</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Pragma-Volatile.html#Pragma-Volatile">Pragma Volatile</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Implementation-Defined-Pragmas.html#Implementation-Defined-Pragmas">Implementation Defined Pragmas</a>
<hr>
</div>

<p><a name="gnat_005frm_002fimplementation_005fdefined_005fpragmas-pragma_002dwarning_002das_002derror"></a><a name="dc"></a>

<h3 class="section">2.189 Pragma Warning_As_Error</h3>

<p>Syntax:

<pre class="example">    pragma Warning_As_Error (static_string_EXPRESSION);
</pre>
<p>This configuration pragma allows the programmer to specify a set
of warnings that will be treated as errors. Any warning which
matches the pattern given by the pragma argument will be treated
as an error. This gives much more precise control that -gnatwe
which treats all warnings as errors.

<p>The pattern may contain asterisks, which match zero or more characters in
the message. For example, you can use
<cite>pragma Warning_As_Error ("bits of*unused")</cite> to treat the warning
message <cite>warning: 960 bits of "a" unused</cite> as an error. No other regular
expression notations are permitted. All characters other than asterisk in
these three specific cases are treated as literal characters in the match. 
The match is case insensitive, for example XYZ matches xyz.

<p>Note that the pattern matches if it occurs anywhere within the warning
message string (it is not necessary to put an asterisk at the start and
the end of the message, since this is implied).

<p>Another possibility for the static_string_EXPRESSION which works whether
or not error tags are enabled (`-gnatw.d') is to use the
`-gnatw' tag string, enclosed in brackets,
as shown in the example below, to treat a class of warnings as errors.

<p>The above use of patterns to match the message applies only to warning
messages generated by the front end. This pragma can also be applied to
warnings provided by the back end and mentioned in <a href="dd.html#dd">Pragma Warnings</a>. 
By using a single full `-Wxxx' switch in the pragma, such warnings
can also be treated as errors.

<p>The pragma can appear either in a global configuration pragma file
(e.g. <code>gnat.adc</code>), or at the start of a file. Given a global
configuration pragma file containing:

<pre class="example">    pragma Warning_As_Error ("[-gnatwj]");
</pre>
<p>which will treat all obsolescent feature warnings as errors, the
following program compiles as shown (compile options here are
`-gnatwa.d -gnatl -gnatj55').

<pre class="example">        1. pragma Warning_As_Error ("*never assigned*");
        2. function Warnerr return String is
        3.    X : Integer;
              |
           &gt;&gt;&gt; error: variable "X" is never read and
               never assigned [-gnatwv] [warning-as-error]
    
        4.    Y : Integer;
              |
           &gt;&gt;&gt; warning: variable "Y" is assigned but
               never read [-gnatwu]
    
        5. begin
        6.    Y := 0;
        7.    return %ABC%;
                     |
           &gt;&gt;&gt; error: use of "%" is an obsolescent
               feature (RM J.2(4)), use """ instead
               [-gnatwj] [warning-as-error]
    
        8. end;
    
    8 lines: No errors, 3 warnings (2 treated as errors)
</pre>
<p>Note that this pragma does not affect the set of warnings issued in
any way, it merely changes the effect of a matching warning if one
is produced as a result of other warnings options. As shown in this
example, if the pragma results in a warning being treated as an error,
the tag is changed from "warning:" to "error:" and the string
"[warning-as-error]" is appended to the end of the message.

</body></html>

