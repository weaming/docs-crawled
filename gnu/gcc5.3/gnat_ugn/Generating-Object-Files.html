<html lang="en">
<head>
<title>Generating Object Files - GNAT User's Guide for Native Platforms</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="GNAT User's Guide for Native Platforms">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="The-GNAT-Compilation-Model.html#The-GNAT-Compilation-Model" title="The GNAT Compilation Model">
<link rel="prev" href="Configuration-Pragmas.html#Configuration-Pragmas" title="Configuration Pragmas">
<link rel="next" href="Source-Dependencies.html#Source-Dependencies" title="Source Dependencies">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--

     GNAT User's Guide for Native Platforms , March 24, 2015

     AdaCore

     Copyright (C) 2008-2015, Free Software Foundation
-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Generating-Object-Files"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Source-Dependencies.html#Source-Dependencies">Source Dependencies</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Configuration-Pragmas.html#Configuration-Pragmas">Configuration Pragmas</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="The-GNAT-Compilation-Model.html#The-GNAT-Compilation-Model">The GNAT Compilation Model</a>
<hr>
</div>

<p><a name="gnat_005fugn_002fthe_005fgnat_005fcompilation_005fmodel-generating_002dobject_002dfiles"></a><a name="g_t42"></a><a name="gnat_005fugn_002fthe_005fgnat_005fcompilation_005fmodel-id31"></a><a name="g_t7e"></a>

<h3 class="section">3.5 Generating Object Files</h3>

<p>An Ada program consists of a set of source files, and the first step in
compiling the program is to generate the corresponding object files. 
These are generated by compiling a subset of these source files. 
The files you need to compile are the following:

     <ul>
<li>If a package spec has no body, compile the package spec to produce the
object file for the package.

     <li>If a package has both a spec and a body, compile the body to produce the
object file for the package. The source file for the package spec need
not be compiled in this case because there is only one object file, which
contains the code for both the spec and body of the package.

     <li>For a subprogram, compile the subprogram body to produce the object file
for the subprogram. The spec, if one is present, is as usual in a
separate file, and need not be compiled. 
</ul>

<p><a name="index-Subunits-73"></a>

     <ul>
<li>In the case of subunits, only compile the parent unit. A single object
file is generated for the entire subunit tree, which includes all the
subunits.

     <li>Compile child units independently of their parent units
(though, of course, the spec of all the ancestor unit must be present in order
to compile a child unit).

     <p><a name="index-Generics-74"></a>
<li>Compile generic units in the same manner as any other units. The object
files in this case are small dummy files that contain at most the
flag used for elaboration checking. This is because GNAT always handles generic
instantiation by means of macro expansion. However, it is still necessary to
compile generic units, for dependency checking and elaboration purposes. 
</ul>

<p>The preceding rules describe the set of files that must be compiled to
generate the object files for a program. Each object file has the same
name as the corresponding source file, except that the extension is
<code>.o</code> as usual.

<p>You may wish to compile other files for the purpose of checking their
syntactic and semantic correctness. For example, in the case where a
package has a separate spec and body, you would not normally compile the
spec. However, it is convenient in practice to compile the spec to make
sure it is error-free before compiling clients of this spec, because such
compilations will fail if there is an error in the spec.

<p>GNAT provides an option for compiling such files purely for the
purposes of checking correctness; such compilations are not required as
part of the process of building a program. To compile a file in this
checking mode, use the `-gnatc' switch.

</body></html>

