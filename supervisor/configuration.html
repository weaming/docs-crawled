<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuration File &mdash; Supervisor 4.0.0.dev0 documentation</title>
    
    <link rel="stylesheet" href="_static/repoze.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '4.0.0.dev0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Supervisor 4.0.0.dev0 documentation" href="index.html" />
    <link rel="next" title="Subprocesses" href="subprocess.html" />
    <link rel="prev" title="Running Supervisor" href="running.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="configuration-file">
<h1>Configuration File<a class="headerlink" href="#configuration-file" title="Permalink to this headline">¶</a></h1>
<p>The Supervisor configuration file is conventionally named
<code class="file docutils literal"><span class="pre">supervisord.conf</span></code>.  It is used by both <strong class="program">supervisord</strong>
and <strong class="program">supervisorctl</strong>.  If either application is started
without the <code class="docutils literal"><span class="pre">-c</span></code> option (the option which is used to tell the
application the configuration filename explicitly), the application
will look for a file named <code class="file docutils literal"><span class="pre">supervisord.conf</span></code> within the
following locations, in the specified order.  It will use the first
file it finds.</p>
<ol class="arabic simple">
<li><code class="file docutils literal"><span class="pre">$CWD/supervisord.conf</span></code></li>
<li><code class="file docutils literal"><span class="pre">$CWD/etc/supervisord.conf</span></code></li>
<li><code class="file docutils literal"><span class="pre">/etc/supervisord.conf</span></code></li>
<li><code class="file docutils literal"><span class="pre">../etc/supervisord.conf</span></code> (Relative to the executable)</li>
<li><code class="file docutils literal"><span class="pre">../supervisord.conf</span></code> (Relative to the executable)</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some distributions have packaged Supervisor with their own
customizations.  These modified versions of Supervisor may load the
configuration file from locations other than those described here.
Notably, Ubuntu packages have been found that use
<code class="docutils literal"><span class="pre">/etc/supervisor/supervisord.conf</span></code>.</p>
</div>
<div class="section" id="file-format">
<h2>File Format<a class="headerlink" href="#file-format" title="Permalink to this headline">¶</a></h2>
<p><code class="file docutils literal"><span class="pre">supervisord.conf</span></code> is a Windows-INI-style (Python ConfigParser)
file.  It has sections (each denoted by a <code class="docutils literal"><span class="pre">[header]</span></code>) and key / value
pairs within the sections.  The sections and their allowable values
are described below.</p>
<div class="section" id="environment-variables">
<h3>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h3>
<p>Environment variables that are present in the environment at the time that
<strong class="program">supervisord</strong> is started can be used in the configuration file
using the Python string expression syntax <code class="docutils literal"><span class="pre">%(ENV_X)s</span></code>:</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[program:example]</span>
<span class="na">command</span><span class="o">=</span><span class="s">/usr/bin/example --loglevel=%(ENV_LOGLEVEL)s</span>
</pre></div>
</div>
<p>In the example above, the expression <code class="docutils literal"><span class="pre">%(ENV_LOGLEVEL)s</span></code> would be expanded
to the value of the environment variable <code class="docutils literal"><span class="pre">LOGLEVEL</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In Supervisor 3.2 and later, <code class="docutils literal"><span class="pre">%(ENV_X)s</span></code> expressions are supported in
all options.  In prior versions, some options support them, but most
do not.  See the documentation for each option below.</p>
</div>
</div>
</div>
<div class="section" id="unix-http-server-section-settings">
<h2><code class="docutils literal"><span class="pre">[unix_http_server]</span></code> Section Settings<a class="headerlink" href="#unix-http-server-section-settings" title="Permalink to this headline">¶</a></h2>
<p>The <code class="file docutils literal"><span class="pre">supervisord.conf</span></code> file contains a section named
<code class="docutils literal"><span class="pre">[unix_http_server]</span></code> under which configuration parameters for an
HTTP server that listens on a UNIX domain socket should be inserted.
If the configuration file has no <code class="docutils literal"><span class="pre">[unix_http_server]</span></code> section, a
UNIX domain socket HTTP server will not be started.  The allowable
configuration values are as follows.</p>
<div class="section" id="unix-http-server-section-values">
<h3><code class="docutils literal"><span class="pre">[unix_http_server]</span></code> Section Values<a class="headerlink" href="#unix-http-server-section-values" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">file</span></code></p>
<blockquote>
<div><p>A path to a UNIX domain socket (e.g. <code class="file docutils literal"><span class="pre">/tmp/supervisord.sock</span></code>)
on which supervisor will listen for HTTP/XML-RPC requests.
<strong class="program">supervisorctl</strong> uses XML-RPC to communicate with
<strong class="program">supervisord</strong> over this port.  This option can include the
value <code class="docutils literal"><span class="pre">%(here)s</span></code>, which expands to the directory in which the
<strong class="program">supervisord</strong> configuration file was found.</p>
<p><em>Default</em>:  None.</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">chmod</span></code></p>
<blockquote>
<div><p>Change the UNIX permission mode bits of the UNIX domain socket to
this value at startup.</p>
<p><em>Default</em>: <code class="docutils literal"><span class="pre">0700</span></code></p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">chown</span></code></p>
<blockquote>
<div><p>Change the user and group of the socket file to this value.  May be
a UNIX username (e.g. <code class="docutils literal"><span class="pre">chrism</span></code>) or a UNIX username and group
separated by a colon (e.g. <code class="docutils literal"><span class="pre">chrism:wheel</span></code>).</p>
<p><em>Default</em>:  Use the username and group of the user who starts supervisord.</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">username</span></code></p>
<blockquote>
<div><p>The username required for authentication to this HTTP server.</p>
<p><em>Default</em>:  No username required.</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">password</span></code></p>
<blockquote>
<div><p>The password required for authentication to this HTTP server.  This
can be a cleartext password, or can be specified as a SHA-1 hash if
prefixed by the string <code class="docutils literal"><span class="pre">{SHA}</span></code>.  For example,
<code class="docutils literal"><span class="pre">{SHA}82ab876d1387bfafe46cc1c8a2ef074eae50cb1d</span></code> is the SHA-stored
version of the password &#8220;thepassword&#8221;.</p>
<p>Note that hashed password must be in hex format.</p>
<p><em>Default</em>:  No password required.</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
</div>
<div class="section" id="unix-http-server-section-example">
<h3><code class="docutils literal"><span class="pre">[unix_http_server]</span></code> Section Example<a class="headerlink" href="#unix-http-server-section-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[unix_http_server]</span>
<span class="na">file</span> <span class="o">=</span> <span class="s">/tmp/supervisor.sock</span>
<span class="na">chmod</span> <span class="o">=</span> <span class="s">0777</span>
<span class="na">chown</span><span class="o">=</span> <span class="s">nobody:nogroup</span>
<span class="na">username</span> <span class="o">=</span> <span class="s">user</span>
<span class="na">password</span> <span class="o">=</span> <span class="s">123</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="inet-http-server-section-settings">
<h2><code class="docutils literal"><span class="pre">[inet_http_server]</span></code> Section Settings<a class="headerlink" href="#inet-http-server-section-settings" title="Permalink to this headline">¶</a></h2>
<p>The <code class="file docutils literal"><span class="pre">supervisord.conf</span></code> file contains a section named
<code class="docutils literal"><span class="pre">[inet_http_server]</span></code> under which configuration parameters for an
HTTP server that listens on a TCP (internet) socket should be
inserted.  If the configuration file has no <code class="docutils literal"><span class="pre">[inet_http_server]</span></code>
section, an inet HTTP server will not be started.  The allowable
configuration values are as follows.</p>
<div class="section" id="inet-http-server-section-values">
<h3><code class="docutils literal"><span class="pre">[inet_http_server]</span></code> Section Values<a class="headerlink" href="#inet-http-server-section-values" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">port</span></code></p>
<blockquote>
<div><p>A TCP host:port value or (e.g. <code class="docutils literal"><span class="pre">127.0.0.1:9001</span></code>) on which
supervisor will listen for HTTP/XML-RPC requests.
<strong class="program">supervisorctl</strong> will use XML-RPC to communicate with
<strong class="program">supervisord</strong> over this port.  To listen on all interfaces
in the machine, use <code class="docutils literal"><span class="pre">:9001</span></code> or <code class="docutils literal"><span class="pre">*:9001</span></code>.</p>
<p><em>Default</em>:  No default.</p>
<p><em>Required</em>:  Yes.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">username</span></code></p>
<blockquote>
<div><p>The username required for authentication to this HTTP server.</p>
<p><em>Default</em>:  No username required.</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">password</span></code></p>
<blockquote>
<div><p>The password required for authentication to this HTTP server.  This
can be a cleartext password, or can be specified as a SHA-1 hash if
prefixed by the string <code class="docutils literal"><span class="pre">{SHA}</span></code>.  For example,
<code class="docutils literal"><span class="pre">{SHA}82ab876d1387bfafe46cc1c8a2ef074eae50cb1d</span></code> is the SHA-stored
version of the password &#8220;thepassword&#8221;.</p>
<p>Note that hashed password must be in hex format.</p>
<p><em>Default</em>:  No password required.</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
</div>
<div class="section" id="inet-http-server-section-example">
<h3><code class="docutils literal"><span class="pre">[inet_http_server]</span></code> Section Example<a class="headerlink" href="#inet-http-server-section-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[inet_http_server]</span>
<span class="na">port</span> <span class="o">=</span> <span class="s">127.0.0.1:9001</span>
<span class="na">username</span> <span class="o">=</span> <span class="s">user</span>
<span class="na">password</span> <span class="o">=</span> <span class="s">123</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="supervisord-section-settings">
<h2><code class="docutils literal"><span class="pre">[supervisord]</span></code> Section Settings<a class="headerlink" href="#supervisord-section-settings" title="Permalink to this headline">¶</a></h2>
<p>The <code class="file docutils literal"><span class="pre">supervisord.conf</span></code> file contains a section named
<code class="docutils literal"><span class="pre">[supervisord]</span></code> in which global settings related to the
<strong class="program">supervisord</strong> process should be inserted.  These are as
follows.</p>
<div class="section" id="supervisord-section-values">
<h3><code class="docutils literal"><span class="pre">[supervisord]</span></code> Section Values<a class="headerlink" href="#supervisord-section-values" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">logfile</span></code></p>
<blockquote>
<div><p>The path to the activity log of the supervisord process.  This
option can include the value <code class="docutils literal"><span class="pre">%(here)s</span></code>, which expands to the
directory in which the supervisord configuration file was found.</p>
<p><em>Default</em>:  <code class="file docutils literal"><span class="pre">$CWD/supervisord.log</span></code></p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">logfile_maxbytes</span></code></p>
<blockquote>
<div><p>The maximum number of bytes that may be consumed by the activity log
file before it is rotated (suffix multipliers like &#8220;KB&#8221;, &#8220;MB&#8221;, and
&#8220;GB&#8221; can be used in the value).  Set this value to 0 to indicate an
unlimited log size.</p>
<p><em>Default</em>:  50MB</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">logfile_backups</span></code></p>
<blockquote>
<div><p>The number of backups to keep around resulting from activity log
file rotation.  If set to 0, no backups will be kept.</p>
<p><em>Default</em>:  10</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">loglevel</span></code></p>
<blockquote>
<div><p>The logging level, dictating what is written to the supervisord
activity log.  One of <code class="docutils literal"><span class="pre">critical</span></code>, <code class="docutils literal"><span class="pre">error</span></code>, <code class="docutils literal"><span class="pre">warn</span></code>, <code class="docutils literal"><span class="pre">info</span></code>,
<code class="docutils literal"><span class="pre">debug</span></code>, <code class="docutils literal"><span class="pre">trace</span></code>, or <code class="docutils literal"><span class="pre">blather</span></code>.  Note that at log level
<code class="docutils literal"><span class="pre">debug</span></code>, the supervisord log file will record the stderr/stdout
output of its child processes and extended info info about process
state changes, which is useful for debugging a process which isn&#8217;t
starting properly.  See also: <a class="reference internal" href="logging.html#activity-log-levels"><span>Activity Log Levels</span></a>.</p>
<p><em>Default</em>:  info</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">pidfile</span></code></p>
<blockquote>
<div><p>The location in which supervisord keeps its pid file.  This option
can include the value <code class="docutils literal"><span class="pre">%(here)s</span></code>, which expands to the directory
in which the supervisord configuration file was found.</p>
<p><em>Default</em>:  <code class="file docutils literal"><span class="pre">$CWD/supervisord.pid</span></code></p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">umask</span></code></p>
<blockquote>
<div><p>The <a class="reference internal" href="glossary.html#term-umask"><span class="xref std std-term">umask</span></a> of the supervisord process.</p>
<p><em>Default</em>:  <code class="docutils literal"><span class="pre">022</span></code></p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">nodaemon</span></code></p>
<blockquote>
<div><p>If true, supervisord will start in the foreground instead of
daemonizing.</p>
<p><em>Default</em>:  false</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">minfds</span></code></p>
<blockquote>
<div><p>The minimum number of file descriptors that must be available before
supervisord will start successfully.  A call to setrlimit will be made
to attempt to raise the soft and hard limits of the supervisord process to
satisfy <code class="docutils literal"><span class="pre">minfds</span></code>.  The hard limit may only be raised if supervisord
is run as root.  supervisord uses file descriptors liberally, and will
enter a failure mode when one cannot be obtained from the OS, so it&#8217;s
useful to be able to specify a minimum value to ensure it doesn&#8217;t run out
of them during execution. This option is particularly useful on Solaris,
which has a low per-process fd limit by default.</p>
<p><em>Default</em>:  1024</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">minprocs</span></code></p>
<blockquote>
<div><p>The minimum number of process descriptors that must be available
before supervisord will start successfully.  A call to setrlimit will be
made to attempt to raise the soft and hard limits of the supervisord process
to satisfy <code class="docutils literal"><span class="pre">minprocs</span></code>.  The hard limit may only be raised if supervisord
is run as root.  supervisord will enter a failure mode when the OS runs out
of process descriptors, so it&#8217;s useful to ensure that enough process
descriptors are available upon <strong class="program">supervisord</strong> startup.</p>
<p><em>Default</em>:  200</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">nocleanup</span></code></p>
<blockquote>
<div><p>Prevent supervisord from clearing any existing <code class="docutils literal"><span class="pre">AUTO</span></code>
child log files at startup time.  Useful for debugging.</p>
<p><em>Default</em>:  false</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">childlogdir</span></code></p>
<blockquote>
<div><p>The directory used for <code class="docutils literal"><span class="pre">AUTO</span></code> child log files.  This option can
include the value <code class="docutils literal"><span class="pre">%(here)s</span></code>, which expands to the directory in
which the <strong class="program">supervisord</strong> configuration file was found.</p>
<p><em>Default</em>: value of Python&#8217;s <code class="xref py py-func docutils literal"><span class="pre">tempfile.get_tempdir()</span></code></p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">user</span></code></p>
<blockquote>
<div><p>Instruct <strong class="program">supervisord</strong> to switch users to this UNIX user
account before doing any meaningful processing.  The user can only
be switched if <strong class="program">supervisord</strong> is started as the root user.
If <strong class="program">supervisord</strong> can&#8217;t switch users, it will still continue
but will write a log message at the <code class="docutils literal"><span class="pre">critical</span></code> level saying that it
can&#8217;t drop privileges.</p>
<p><em>Default</em>: do not switch users</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">directory</span></code></p>
<blockquote>
<div><p>When <strong class="program">supervisord</strong> daemonizes, switch to this directory.
This option can include the value <code class="docutils literal"><span class="pre">%(here)s</span></code>, which expands to the
directory in which the <strong class="program">supervisord</strong> configuration file was
found.</p>
<p><em>Default</em>: do not cd</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">strip_ansi</span></code></p>
<blockquote>
<div><p>Strip all ANSI escape sequences from child log files.</p>
<p><em>Default</em>: false</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">environment</span></code></p>
<blockquote>
<div><p>A list of key/value pairs in the form <code class="docutils literal"><span class="pre">KEY=&quot;val&quot;,KEY2=&quot;val2&quot;</span></code> that
will be placed in the <strong class="program">supervisord</strong> process&#8217; environment
(and as a result in all of its child process&#8217; environments).  This
option can include the value <code class="docutils literal"><span class="pre">%(here)s</span></code>, which expands to the
directory in which the supervisord configuration file was found.
Values containing non-alphanumeric characters should be quoted
(e.g. <code class="docutils literal"><span class="pre">KEY=&quot;val:123&quot;,KEY2=&quot;val,456&quot;</span></code>).  Otherwise, quoting the
values is optional but recommended.  To escape percent characters,
simply use two. (e.g. <code class="docutils literal"><span class="pre">URI=&quot;/first%%20name&quot;</span></code>) <strong>Note</strong> that
subprocesses will inherit the environment variables of the shell
used to start <strong class="program">supervisord</strong> except for the ones overridden
here and within the program&#8217;s <code class="docutils literal"><span class="pre">environment</span></code> option.  See
<a class="reference internal" href="subprocess.html#subprocess-environment"><span>Subprocess Environment</span></a>.</p>
<p><em>Default</em>: no values</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">identifier</span></code></p>
<blockquote>
<div><p>The identifier string for this supervisor process, used by the RPC
interface.</p>
<p><em>Default</em>: supervisor</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
</div>
<div class="section" id="supervisord-section-example">
<h3><code class="docutils literal"><span class="pre">[supervisord]</span></code> Section Example<a class="headerlink" href="#supervisord-section-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[supervisord]</span>
<span class="na">logfile</span> <span class="o">=</span> <span class="s">/tmp/supervisord.log</span>
<span class="na">logfile_maxbytes</span> <span class="o">=</span> <span class="s">50MB</span>
<span class="na">logfile_backups</span><span class="o">=</span><span class="s">10</span>
<span class="na">loglevel</span> <span class="o">=</span> <span class="s">info</span>
<span class="na">pidfile</span> <span class="o">=</span> <span class="s">/tmp/supervisord.pid</span>
<span class="na">nodaemon</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">minfds</span> <span class="o">=</span> <span class="s">1024</span>
<span class="na">minprocs</span> <span class="o">=</span> <span class="s">200</span>
<span class="na">umask</span> <span class="o">=</span> <span class="s">022</span>
<span class="na">user</span> <span class="o">=</span> <span class="s">chrism</span>
<span class="na">identifier</span> <span class="o">=</span> <span class="s">supervisor</span>
<span class="na">directory</span> <span class="o">=</span> <span class="s">/tmp</span>
<span class="na">nocleanup</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">childlogdir</span> <span class="o">=</span> <span class="s">/tmp</span>
<span class="na">strip_ansi</span> <span class="o">=</span> <span class="s">false</span>
<span class="na">environment</span> <span class="o">=</span> <span class="s">KEY1=&quot;value1&quot;,KEY2=&quot;value2&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="supervisorctl-section-settings">
<h2><code class="docutils literal"><span class="pre">[supervisorctl]</span></code> Section Settings<a class="headerlink" href="#supervisorctl-section-settings" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>The configuration file may contain settings for the
<strong class="program">supervisorctl</strong> interactive shell program.  These options
are listed below.</div></blockquote>
<div class="section" id="supervisorctl-section-values">
<h3><code class="docutils literal"><span class="pre">[supervisorctl]</span></code> Section Values<a class="headerlink" href="#supervisorctl-section-values" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">serverurl</span></code></p>
<blockquote>
<div><p>The URL that should be used to access the supervisord server,
e.g. <code class="docutils literal"><span class="pre">http://localhost:9001</span></code>.  For UNIX domain sockets, use
<code class="docutils literal"><span class="pre">unix:///absolute/path/to/file.sock</span></code>.</p>
<p><em>Default</em>: <code class="docutils literal"><span class="pre">http://localhost:9001</span></code></p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">username</span></code></p>
<blockquote>
<div><p>The username to pass to the supervisord server for use in
authentication.  This should be same as <code class="docutils literal"><span class="pre">username</span></code> from the
supervisord server configuration for the port or UNIX domain socket
you&#8217;re attempting to access.</p>
<p><em>Default</em>: No username</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">password</span></code></p>
<blockquote>
<div><p>The password to pass to the supervisord server for use in
authentication. This should be the cleartext version of <code class="docutils literal"><span class="pre">password</span></code>
from the supervisord server configuration for the port or UNIX
domain socket you&#8217;re attempting to access.  This value cannot be
passed as a SHA hash.  Unlike other passwords specified in this
file, it must be provided in cleartext.</p>
<p><em>Default</em>: No password</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">prompt</span></code></p>
<blockquote>
<div><p>String used as supervisorctl prompt.</p>
<p><em>Default</em>: <code class="docutils literal"><span class="pre">supervisor</span></code></p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">history_file</span></code></p>
<blockquote>
<div><p>A path to use as the <code class="docutils literal"><span class="pre">readline</span></code> persistent history file.  If you
enable this feature by choosing a path, your supervisorctl commands
will be kept in the file, and you can use readline (e.g. arrow-up)
to invoke commands you performed in your last supervisorctl session.</p>
<p><em>Default</em>: No file</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0a5</p>
</div></blockquote>
</div>
<div class="section" id="supervisorctl-section-example">
<h3><code class="docutils literal"><span class="pre">[supervisorctl]</span></code> Section Example<a class="headerlink" href="#supervisorctl-section-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[supervisorctl]</span>
<span class="na">serverurl</span> <span class="o">=</span> <span class="s">unix:///tmp/supervisor.sock</span>
<span class="na">username</span> <span class="o">=</span> <span class="s">chris</span>
<span class="na">password</span> <span class="o">=</span> <span class="s">123</span>
<span class="na">prompt</span> <span class="o">=</span> <span class="s">mysupervisor</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="program-x-section-settings">
<span id="programx-section"></span><h2><code class="docutils literal"><span class="pre">[program:x]</span></code> Section Settings<a class="headerlink" href="#program-x-section-settings" title="Permalink to this headline">¶</a></h2>
<p>The configuration file must contain one or more <code class="docutils literal"><span class="pre">program</span></code> sections
in order for supervisord to know which programs it should start and
control.  The header value is composite value.  It is the word
&#8220;program&#8221;, followed directly by a colon, then the program name.  A
header value of <code class="docutils literal"><span class="pre">[program:foo]</span></code> describes a program with the name of
&#8220;foo&#8221;.  The name is used within client applications that control the
processes that are created as a result of this configuration.  It is
an error to create a <code class="docutils literal"><span class="pre">program</span></code> section that does not have a name.
The name must not include a colon character or a bracket character.
The value of the name is used as the value for the
<code class="docutils literal"><span class="pre">%(program_name)s</span></code> string expression expansion within other values
where specified.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>A <code class="docutils literal"><span class="pre">[program:x]</span></code> section actually represents a &#8220;homogeneous
process group&#8221; to supervisor (as of 3.0).  The members of the group
are defined by the combination of the <code class="docutils literal"><span class="pre">numprocs</span></code> and
<code class="docutils literal"><span class="pre">process_name</span></code> parameters in the configuration.  By default, if
numprocs and process_name are left unchanged from their defaults,
the group represented by <code class="docutils literal"><span class="pre">[program:x]</span></code> will be named <code class="docutils literal"><span class="pre">x</span></code> and
will have a single process named <code class="docutils literal"><span class="pre">x</span></code> in it.  This provides a
modicum of backwards compatibility with older supervisor releases,
which did not treat program sections as homogeneous process group
definitions.</p>
<p class="last">But for instance, if you have a <code class="docutils literal"><span class="pre">[program:foo]</span></code> section with a
<code class="docutils literal"><span class="pre">numprocs</span></code> of 3 and a <code class="docutils literal"><span class="pre">process_name</span></code> expression of
<code class="docutils literal"><span class="pre">%(program_name)s_%(process_num)02d</span></code>, the &#8220;foo&#8221; group will
contain three processes, named <code class="docutils literal"><span class="pre">foo_00</span></code>, <code class="docutils literal"><span class="pre">foo_01</span></code>, and
<code class="docutils literal"><span class="pre">foo_02</span></code>.  This makes it possible to start a number of very
similar processes using a single <code class="docutils literal"><span class="pre">[program:x]</span></code> section.  All
logfile names, all environment strings, and the command of programs
can also contain similar Python string expressions, to pass
slightly different parameters to each process.</p>
</div>
<div class="section" id="program-x-section-values">
<h3><code class="docutils literal"><span class="pre">[program:x]</span></code> Section Values<a class="headerlink" href="#program-x-section-values" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">command</span></code></p>
<blockquote>
<div><p>The command that will be run when this program is started.  The
command can be either absolute (e.g. <code class="docutils literal"><span class="pre">/path/to/programname</span></code>) or
relative (e.g. <code class="docutils literal"><span class="pre">programname</span></code>).  If it is relative, the
supervisord&#8217;s environment <code class="docutils literal"><span class="pre">$PATH</span></code> will be searched for the
executable.  Programs can accept arguments, e.g. <code class="docutils literal"><span class="pre">/path/to/program</span>
<span class="pre">foo</span> <span class="pre">bar</span></code>.  The command line can use double quotes to group
arguments with spaces in them to pass to the program,
e.g. <code class="docutils literal"><span class="pre">/path/to/program/name</span> <span class="pre">-p</span> <span class="pre">&quot;foo</span> <span class="pre">bar&quot;</span></code>.  Note that the value of
<code class="docutils literal"><span class="pre">command</span></code> may include Python string expressions,
e.g. <code class="docutils literal"><span class="pre">/path/to/programname</span> <span class="pre">--port=80%(process_num)02d</span></code> might
expand to <code class="docutils literal"><span class="pre">/path/to/programname</span> <span class="pre">--port=8000</span></code> at runtime.  String
expressions are evaluated against a dictionary containing the keys
<code class="docutils literal"><span class="pre">group_name</span></code>, <code class="docutils literal"><span class="pre">host_node_name</span></code>, <code class="docutils literal"><span class="pre">process_num</span></code>, <code class="docutils literal"><span class="pre">program_name</span></code>,
<code class="docutils literal"><span class="pre">here</span></code> (the directory of the supervisord config file), and all
supervisord&#8217;s environment variables prefixed with <code class="docutils literal"><span class="pre">ENV_</span></code>.  Controlled
programs should themselves not be daemons, as supervisord assumes it is
responsible for daemonizing its subprocesses (see
<a class="reference internal" href="subprocess.html#nondaemonizing-of-subprocesses"><span>Nondaemonizing of Subprocesses</span></a>).</p>
<p><em>Default</em>: No default.</p>
<p><em>Required</em>:  Yes.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">process_name</span></code></p>
<blockquote>
<div><p>A Python string expression that is used to compose the supervisor
process name for this process.  You usually don&#8217;t need to worry
about setting this unless you change <code class="docutils literal"><span class="pre">numprocs</span></code>.  The string
expression is evaluated against a dictionary that includes
<code class="docutils literal"><span class="pre">group_name</span></code>, <code class="docutils literal"><span class="pre">host_node_name</span></code>, <code class="docutils literal"><span class="pre">process_num</span></code>, <code class="docutils literal"><span class="pre">program_name</span></code>,
and <code class="docutils literal"><span class="pre">here</span></code> (the directory of the supervisord config file).</p>
<p><em>Default</em>: <code class="docutils literal"><span class="pre">%(program_name)s</span></code></p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">numprocs</span></code></p>
<blockquote>
<div><p>Supervisor will start as many instances of this program as named by
numprocs.  Note that if numprocs &gt; 1, the <code class="docutils literal"><span class="pre">process_name</span></code>
expression must include <code class="docutils literal"><span class="pre">%(process_num)s</span></code> (or any other
valid Python string expression that includes <code class="docutils literal"><span class="pre">process_num</span></code>) within
it.</p>
<p><em>Default</em>: 1</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">numprocs_start</span></code></p>
<blockquote>
<div><p>An integer offset that is used to compute the number at which
<code class="docutils literal"><span class="pre">numprocs</span></code> starts.</p>
<p><em>Default</em>: 0</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">priority</span></code></p>
<blockquote>
<div><p>The relative priority of the program in the start and shutdown
ordering.  Lower priorities indicate programs that start first and
shut down last at startup and when aggregate commands are used in
various clients (e.g. &#8220;start all&#8221;/&#8221;stop all&#8221;).  Higher priorities
indicate programs that start last and shut down first.</p>
<p><em>Default</em>: 999</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">autostart</span></code></p>
<blockquote>
<div><p>If true, this program will start automatically when supervisord is
started.</p>
<p><em>Default</em>: true</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">startsecs</span></code></p>
<blockquote>
<div><p>The total number of seconds which the program needs to stay running
after a startup to consider the start successful (moving the process
from the <code class="docutils literal"><span class="pre">STARTING</span></code> state to the <code class="docutils literal"><span class="pre">RUNNING</span></code> state).  Set to <code class="docutils literal"><span class="pre">0</span></code>
to indicate that the program needn&#8217;t stay running for any particular
amount of time.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Even if a process exits with an &#8220;expected&#8221; exit code (see
<code class="docutils literal"><span class="pre">exitcodes</span></code>), the start will still be considered a failure
if the process exits quicker than <code class="docutils literal"><span class="pre">startsecs</span></code>.</p>
</div>
<p><em>Default</em>: 1</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">startretries</span></code></p>
<blockquote>
<div><p>The number of serial failure attempts that <strong class="program">supervisord</strong>
will allow when attempting to start the program before giving up and
putting the process into an <code class="docutils literal"><span class="pre">FATAL</span></code> state.  See
<a class="reference internal" href="subprocess.html#process-states"><span>Process States</span></a> for explanation of the <code class="docutils literal"><span class="pre">FATAL</span></code> state.</p>
<p><em>Default</em>: 3</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">autorestart</span></code></p>
<blockquote>
<div><p>Specifies if <strong class="program">supervisord</strong> should automatically restart a
process if it exits when it is in the <code class="docutils literal"><span class="pre">RUNNING</span></code> state.  May be
one of <code class="docutils literal"><span class="pre">false</span></code>, <code class="docutils literal"><span class="pre">unexpected</span></code>, or <code class="docutils literal"><span class="pre">true</span></code>.  If <code class="docutils literal"><span class="pre">false</span></code>, the
process will not be autorestarted.  If <code class="docutils literal"><span class="pre">unexpected</span></code>, the process
will be restarted when the program exits with an exit code that is
not one of the exit codes associated with this process&#8217; configuration
(see <code class="docutils literal"><span class="pre">exitcodes</span></code>).  If <code class="docutils literal"><span class="pre">true</span></code>, the process will be unconditionally
restarted when it exits, without regard to its exit code.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><code class="docutils literal"><span class="pre">autorestart</span></code> controls whether <strong class="program">supervisord</strong> will
autorestart a program if it exits after it has successfully started
up (the process is in the <code class="docutils literal"><span class="pre">RUNNING</span></code> state).</p>
<p class="last"><strong class="program">supervisord</strong> has a different restart mechanism for when the
process is starting up (the process is in the <code class="docutils literal"><span class="pre">STARTING</span></code> state).
Retries during process startup are controlled by <code class="docutils literal"><span class="pre">startsecs</span></code>
and <code class="docutils literal"><span class="pre">startretries</span></code>.</p>
</div>
<p><em>Default</em>: unexpected</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">exitcodes</span></code></p>
<blockquote>
<div><p>The list of &#8220;expected&#8221; exit codes for this program used with <code class="docutils literal"><span class="pre">autorestart</span></code>.
If the <code class="docutils literal"><span class="pre">autorestart</span></code> parameter is set to <code class="docutils literal"><span class="pre">unexpected</span></code>, and the process
exits in any other way than as a result of a supervisor stop
request, <strong class="program">supervisord</strong> will restart the process if it exits
with an exit code that is not defined in this list.</p>
<p><em>Default</em>: 0,2</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stopsignal</span></code></p>
<blockquote>
<div><p>The signal used to kill the program when a stop is requested.  This
can be any of TERM, HUP, INT, QUIT, KILL, USR1, or USR2.</p>
<p><em>Default</em>: TERM</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stopwaitsecs</span></code></p>
<blockquote>
<div><p>The number of seconds to wait for the OS to return a SIGCHILD to
<strong class="program">supervisord</strong> after the program has been sent a stopsignal.
If this number of seconds elapses before <strong class="program">supervisord</strong>
receives a SIGCHILD from the process, <strong class="program">supervisord</strong> will
attempt to kill it with a final SIGKILL.</p>
<p><em>Default</em>: 10</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stopasgroup</span></code></p>
<blockquote>
<div><p>If true, the flag causes supervisor to send the stop signal to the
whole process group and implies <code class="docutils literal"><span class="pre">killasgroup</span></code> is true.  This is useful
for programs, such as Flask in debug mode, that do not propagate
stop signals to their children, leaving them orphaned.</p>
<p><em>Default</em>: false</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0b1</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">killasgroup</span></code></p>
<blockquote>
<div><p>If true, when resorting to send SIGKILL to the program to terminate
it send it to its whole process group instead, taking care of its
children as well, useful e.g with Python programs using
<code class="xref py py-mod docutils literal"><span class="pre">multiprocessing</span></code>.</p>
<p><em>Default</em>: false</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0a11</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">user</span></code></p>
<blockquote>
<div><p>Instruct <strong class="program">supervisord</strong> to use this UNIX user account as the
account which runs the program.  The user can only be switched if
<strong class="program">supervisord</strong> is run as the root user.  If <strong class="program">supervisord</strong>
can&#8217;t switch to the specified user, the program will not be started.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The user will be changed using <code class="docutils literal"><span class="pre">setuid</span></code> only.  This does not start
a login shell and does not change environment variables like
<code class="docutils literal"><span class="pre">USER</span></code> or <code class="docutils literal"><span class="pre">HOME</span></code>.  See <a class="reference internal" href="subprocess.html#subprocess-environment"><span>Subprocess Environment</span></a> for details.</p>
</div>
<p><em>Default</em>: Do not switch users</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">redirect_stderr</span></code></p>
<blockquote>
<div><p>If true, cause the process&#8217; stderr output to be sent back to
<strong class="program">supervisord</strong> on its stdout file descriptor (in UNIX shell
terms, this is the equivalent of executing <code class="docutils literal"><span class="pre">/the/program</span> <span class="pre">2&gt;&amp;1</span></code>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Do not set <code class="docutils literal"><span class="pre">redirect_stderr=true</span></code> in an <code class="docutils literal"><span class="pre">[eventlistener:x]</span></code> section.
Eventlisteners use <code class="docutils literal"><span class="pre">stdout</span></code> and <code class="docutils literal"><span class="pre">stdin</span></code> to communicate with
<code class="docutils literal"><span class="pre">supervisord</span></code>.  If <code class="docutils literal"><span class="pre">stderr</span></code> is redirected, output from
<code class="docutils literal"><span class="pre">stderr</span></code> will interfere with the eventlistener protocol.</p>
</div>
<p><em>Default</em>: false</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0, replaces 2.0&#8217;s <code class="docutils literal"><span class="pre">log_stdout</span></code> and <code class="docutils literal"><span class="pre">log_stderr</span></code></p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stdout_logfile</span></code></p>
<blockquote>
<div><p>Put process stdout output in this file (and if redirect_stderr is
true, also place stderr output in this file).  If <code class="docutils literal"><span class="pre">stdout_logfile</span></code>
is unset or set to <code class="docutils literal"><span class="pre">AUTO</span></code>, supervisor will automatically choose a
file location.  If this is set to <code class="docutils literal"><span class="pre">NONE</span></code>, supervisord will create
no log file.  <code class="docutils literal"><span class="pre">AUTO</span></code> log files and their backups will be deleted
when <strong class="program">supervisord</strong> restarts.  The <code class="docutils literal"><span class="pre">stdout_logfile</span></code> value
can contain Python string expressions that will evaluated against a
dictionary that contains the keys <code class="docutils literal"><span class="pre">group_name</span></code>, <code class="docutils literal"><span class="pre">host_node_name</span></code>,
<code class="docutils literal"><span class="pre">process_num</span></code>, <code class="docutils literal"><span class="pre">program_name</span></code>, and <code class="docutils literal"><span class="pre">here</span></code> (the directory of the
supervisord config file).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is not possible for two processes to share a single log file
(<code class="docutils literal"><span class="pre">stdout_logfile</span></code>) when rotation (<code class="docutils literal"><span class="pre">stdout_logfile_maxbytes</span></code>)
is enabled.  This will result in the file being corrupted.</p>
</div>
<p><em>Default</em>: <code class="docutils literal"><span class="pre">AUTO</span></code></p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0, replaces 2.0&#8217;s <code class="docutils literal"><span class="pre">logfile</span></code></p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stdout_logfile_maxbytes</span></code></p>
<blockquote>
<div><p>The maximum number of bytes that may be consumed by
<code class="docutils literal"><span class="pre">stdout_logfile</span></code> before it is rotated (suffix multipliers like
&#8220;KB&#8221;, &#8220;MB&#8221;, and &#8220;GB&#8221; can be used in the value).  Set this value to 0
to indicate an unlimited log size.</p>
<p><em>Default</em>: 50MB</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0, replaces 2.0&#8217;s <code class="docutils literal"><span class="pre">logfile_maxbytes</span></code></p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stdout_logfile_backups</span></code></p>
<blockquote>
<div><p>The number of <code class="docutils literal"><span class="pre">stdout_logfile</span></code> backups to keep around resulting
from process stdout log file rotation.  If set to 0, no backups
will be kept.</p>
<p><em>Default</em>: 10</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0, replaces 2.0&#8217;s <code class="docutils literal"><span class="pre">logfile_backups</span></code></p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stdout_capture_maxbytes</span></code></p>
<blockquote>
<div><p>Max number of bytes written to capture FIFO when process is in
&#8220;stdout capture mode&#8221; (see <a class="reference internal" href="logging.html#capture-mode"><span>Capture Mode</span></a>).  Should be an
integer (suffix multipliers like &#8220;KB&#8221;, &#8220;MB&#8221; and &#8220;GB&#8221; can used in the
value).  If this value is 0, process capture mode will be off.</p>
<p><em>Default</em>: 0</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0, replaces 2.0&#8217;s <code class="docutils literal"><span class="pre">logfile_backups</span></code></p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stdout_events_enabled</span></code></p>
<blockquote>
<div><p>If true, PROCESS_LOG_STDOUT events will be emitted when the process
writes to its stdout file descriptor.  The events will only be
emitted if the file descriptor is not in capture mode at the time
the data is received (see <a class="reference internal" href="logging.html#capture-mode"><span>Capture Mode</span></a>).</p>
<p><em>Default</em>: 0</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0a7</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stdout_syslog</span></code></p>
<blockquote>
<div><p>If true, stdout will be directed to syslog along with the process name.</p>
<p><em>Default</em>: False</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 4.0.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stderr_logfile</span></code></p>
<blockquote>
<div><p>Put process stderr output in this file unless <code class="docutils literal"><span class="pre">redirect_stderr</span></code> is
true.  Accepts the same value types as <code class="docutils literal"><span class="pre">stdout_logfile</span></code> and may
contain the same Python string expressions.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is not possible for two processes to share a single log file
(<code class="docutils literal"><span class="pre">stderr_logfile</span></code>) when rotation (<code class="docutils literal"><span class="pre">stderr_logfile_maxbytes</span></code>)
is enabled.  This will result in the file being corrupted.</p>
</div>
<p><em>Default</em>: <code class="docutils literal"><span class="pre">AUTO</span></code></p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stderr_logfile_maxbytes</span></code></p>
<blockquote>
<div><p>The maximum number of bytes before logfile rotation for
<code class="docutils literal"><span class="pre">stderr_logfile</span></code>.  Accepts the same value types as
<code class="docutils literal"><span class="pre">stdout_logfile_maxbytes</span></code>.</p>
<p><em>Default</em>: 50MB</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stderr_logfile_backups</span></code></p>
<blockquote>
<div><p>The number of backups to keep around resulting from process stderr
log file rotation.  If set to 0, no backups will be kept.</p>
<p><em>Default</em>: 10</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stderr_capture_maxbytes</span></code></p>
<blockquote>
<div><p>Max number of bytes written to capture FIFO when process is in
&#8220;stderr capture mode&#8221; (see <a class="reference internal" href="logging.html#capture-mode"><span>Capture Mode</span></a>).  Should be an
integer (suffix multipliers like &#8220;KB&#8221;, &#8220;MB&#8221; and &#8220;GB&#8221; can used in the
value).  If this value is 0, process capture mode will be off.</p>
<p><em>Default</em>: 0</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stderr_events_enabled</span></code></p>
<blockquote>
<div><p>If true, PROCESS_LOG_STDERR events will be emitted when the process
writes to its stderr file descriptor.  The events will only be
emitted if the file descriptor is not in capture mode at the time
the data is received (see <a class="reference internal" href="logging.html#capture-mode"><span>Capture Mode</span></a>).</p>
<p><em>Default</em>: false</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0a7</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">stderr_syslog</span></code></p>
<blockquote>
<div><p>If true, stderr will be directed to syslog along with the process name.</p>
<p><em>Default</em>: False</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 4.0.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">environment</span></code></p>
<blockquote>
<div><p>A list of key/value pairs in the form <code class="docutils literal"><span class="pre">KEY=&quot;val&quot;,KEY2=&quot;val2&quot;</span></code> that
will be placed in the child process&#8217; environment.  The environment
string may contain Python string expressions that will be evaluated
against a dictionary containing <code class="docutils literal"><span class="pre">group_name</span></code>, <code class="docutils literal"><span class="pre">host_node_name</span></code>,
<code class="docutils literal"><span class="pre">process_num</span></code>, <code class="docutils literal"><span class="pre">program_name</span></code>, and <code class="docutils literal"><span class="pre">here</span></code> (the directory of the
supervisord config file).  Values containing non-alphanumeric characters
should be quoted (e.g. <code class="docutils literal"><span class="pre">KEY=&quot;val:123&quot;,KEY2=&quot;val,456&quot;</span></code>).  Otherwise,
quoting the values is optional but recommended.  <strong>Note</strong> that the
subprocess will inherit the environment variables of the shell used to
start &#8220;supervisord&#8221; except for the ones overridden here.  See
<a class="reference internal" href="subprocess.html#subprocess-environment"><span>Subprocess Environment</span></a>.</p>
<p><em>Default</em>: No extra environment</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">directory</span></code></p>
<blockquote>
<div><p>A file path representing a directory to which <strong class="program">supervisord</strong>
should temporarily chdir before exec&#8217;ing the child.</p>
<p><em>Default</em>: No chdir (inherit supervisor&#8217;s)</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">umask</span></code></p>
<blockquote>
<div><p>An octal number (e.g. 002, 022) representing the umask of the
process.</p>
<p><em>Default</em>: No special umask (inherit supervisor&#8217;s)</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">serverurl</span></code></p>
<blockquote>
<div><p>The URL passed in the environment to the subprocess process as
<code class="docutils literal"><span class="pre">SUPERVISOR_SERVER_URL</span></code> (see <code class="xref py py-mod docutils literal"><span class="pre">supervisor.childutils</span></code>) to
allow the subprocess to easily communicate with the internal HTTP
server.  If provided, it should have the same syntax and structure
as the <code class="docutils literal"><span class="pre">[supervisorctl]</span></code> section option of the same name.  If this
is set to AUTO, or is unset, supervisor will automatically construct
a server URL, giving preference to a server that listens on UNIX
domain sockets over one that listens on an internet socket.</p>
<p><em>Default</em>: AUTO</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
</div>
<div class="section" id="program-x-section-example">
<h3><code class="docutils literal"><span class="pre">[program:x]</span></code> Section Example<a class="headerlink" href="#program-x-section-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[program:cat]</span>
<span class="na">command</span><span class="o">=</span><span class="s">/bin/cat</span>
<span class="na">process_name</span><span class="o">=</span><span class="s">%(program_name)s</span>
<span class="na">numprocs</span><span class="o">=</span><span class="s">1</span>
<span class="na">directory</span><span class="o">=</span><span class="s">/tmp</span>
<span class="na">umask</span><span class="o">=</span><span class="s">022</span>
<span class="na">priority</span><span class="o">=</span><span class="s">999</span>
<span class="na">autostart</span><span class="o">=</span><span class="s">true</span>
<span class="na">autorestart</span><span class="o">=</span><span class="s">unexpected</span>
<span class="na">startsecs</span><span class="o">=</span><span class="s">10</span>
<span class="na">startretries</span><span class="o">=</span><span class="s">3</span>
<span class="na">exitcodes</span><span class="o">=</span><span class="s">0,2</span>
<span class="na">stopsignal</span><span class="o">=</span><span class="s">TERM</span>
<span class="na">stopwaitsecs</span><span class="o">=</span><span class="s">10</span>
<span class="na">stopasgroup</span><span class="o">=</span><span class="s">false</span>
<span class="na">killasgroup</span><span class="o">=</span><span class="s">false</span>
<span class="na">user</span><span class="o">=</span><span class="s">chrism</span>
<span class="na">redirect_stderr</span><span class="o">=</span><span class="s">false</span>
<span class="na">stdout_logfile</span><span class="o">=</span><span class="s">/a/path</span>
<span class="na">stdout_logfile_maxbytes</span><span class="o">=</span><span class="s">1MB</span>
<span class="na">stdout_logfile_backups</span><span class="o">=</span><span class="s">10</span>
<span class="na">stdout_capture_maxbytes</span><span class="o">=</span><span class="s">1MB</span>
<span class="na">stdout_events_enabled</span><span class="o">=</span><span class="s">false</span>
<span class="na">stderr_logfile</span><span class="o">=</span><span class="s">/a/path</span>
<span class="na">stderr_logfile_maxbytes</span><span class="o">=</span><span class="s">1MB</span>
<span class="na">stderr_logfile_backups</span><span class="o">=</span><span class="s">10</span>
<span class="na">stderr_capture_maxbytes</span><span class="o">=</span><span class="s">1MB</span>
<span class="na">stderr_events_enabled</span><span class="o">=</span><span class="s">false</span>
<span class="na">environment</span><span class="o">=</span><span class="s">A=&quot;1&quot;,B=&quot;2&quot;</span>
<span class="na">serverurl</span><span class="o">=</span><span class="s">AUTO</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="include-section-settings">
<h2><code class="docutils literal"><span class="pre">[include]</span></code> Section Settings<a class="headerlink" href="#include-section-settings" title="Permalink to this headline">¶</a></h2>
<p>The <code class="file docutils literal"><span class="pre">supervisord.conf</span></code> file may contain a section named
<code class="docutils literal"><span class="pre">[include]</span></code>.  If the configuration file contains an <code class="docutils literal"><span class="pre">[include]</span></code>
section, it must contain a single key named &#8220;files&#8221;.  The values in
this key specify other configuration files to be included within the
configuration.</p>
<div class="section" id="include-section-values">
<h3><code class="docutils literal"><span class="pre">[include]</span></code> Section Values<a class="headerlink" href="#include-section-values" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">files</span></code></p>
<blockquote>
<div><p>A space-separated sequence of file globs.  Each file glob may be
absolute or relative.  If the file glob is relative, it is
considered relative to the location of the configuration file which
includes it.  A &#8220;glob&#8221; is a file pattern which matches a specified
pattern according to the rules used by the Unix shell. No tilde
expansion is done, but <code class="docutils literal"><span class="pre">*</span></code>, <code class="docutils literal"><span class="pre">?</span></code>, and character ranges expressed
with <code class="docutils literal"><span class="pre">[]</span></code> will be correctly matched.  Recursive includes from
included files are not supported.</p>
<p><em>Default</em>: No default (required)</p>
<p><em>Required</em>:  Yes.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
</div>
<div class="section" id="include-section-example">
<h3><code class="docutils literal"><span class="pre">[include]</span></code> Section Example<a class="headerlink" href="#include-section-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[include]</span>
<span class="na">files</span> <span class="o">=</span> <span class="s">/an/absolute/filename.conf /an/absolute/*.conf foo.conf config??.conf</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="group-x-section-settings">
<h2><code class="docutils literal"><span class="pre">[group:x]</span></code> Section Settings<a class="headerlink" href="#group-x-section-settings" title="Permalink to this headline">¶</a></h2>
<p>It is often useful to group &#8220;homogeneous&#8221; process groups (aka
&#8220;programs&#8221;) together into a &#8220;heterogeneous&#8221; process group so they can
be controlled as a unit from Supervisor&#8217;s various controller
interfaces.</p>
<p>To place programs into a group so you can treat them as a unit, define
a <code class="docutils literal"><span class="pre">[group:x]</span></code> section in your configuration file.  The group header
value is a composite.  It is the word &#8220;group&#8221;, followed directly by a
colon, then the group name.  A header value of <code class="docutils literal"><span class="pre">[group:foo]</span></code>
describes a group with the name of &#8220;foo&#8221;.  The name is used within
client applications that control the processes that are created as a
result of this configuration.  It is an error to create a <code class="docutils literal"><span class="pre">group</span></code>
section that does not have a name.  The name must not include a colon
character or a bracket character.</p>
<p>For a <code class="docutils literal"><span class="pre">[group:x]</span></code>, there must be one or more <code class="docutils literal"><span class="pre">[program:x]</span></code>
sections elsewhere in your configuration file, and the group must
refer to them by name in the <code class="docutils literal"><span class="pre">programs</span></code> value.</p>
<p>If &#8220;homogeneous&#8221; process groups (represented by program sections) are
placed into a &#8220;heterogeneous&#8221; group via <code class="docutils literal"><span class="pre">[group:x]</span></code> section&#8217;s
<code class="docutils literal"><span class="pre">programs</span></code> line, the homogeneous groups that are implied by the
program section will not exist at runtime in supervisor.  Instead, all
processes belonging to each of the homogeneous groups will be placed
into the heterogeneous group.  For example, given the following group
configuration:</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[group:foo]</span>
<span class="na">programs</span><span class="o">=</span><span class="s">bar,baz</span>
<span class="na">priority</span><span class="o">=</span><span class="s">999</span>
</pre></div>
</div>
<p>Given the above, at supervisord startup, the <code class="docutils literal"><span class="pre">bar</span></code> and <code class="docutils literal"><span class="pre">baz</span></code>
homogeneous groups will not exist, and the processes that would have
been under them will now be moved into the <code class="docutils literal"><span class="pre">foo</span></code> group.</p>
<div class="section" id="group-x-section-values">
<h3><code class="docutils literal"><span class="pre">[group:x]</span></code> Section Values<a class="headerlink" href="#group-x-section-values" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">programs</span></code></p>
<blockquote>
<div><p>A comma-separated list of program names.  The programs which are
listed become members of the group.</p>
<p><em>Default</em>: No default (required)</p>
<p><em>Required</em>:  Yes.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">priority</span></code></p>
<blockquote>
<div><p>A priority number analogous to a <code class="docutils literal"><span class="pre">[program:x]</span></code> priority value
assigned to the group.</p>
<p><em>Default</em>: 999</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
</div>
<div class="section" id="group-x-section-example">
<h3><code class="docutils literal"><span class="pre">[group:x]</span></code> Section Example<a class="headerlink" href="#group-x-section-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[group:foo]</span>
<span class="na">programs</span><span class="o">=</span><span class="s">bar,baz</span>
<span class="na">priority</span><span class="o">=</span><span class="s">999</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="fcgi-program-x-section-settings">
<h2><code class="docutils literal"><span class="pre">[fcgi-program:x]</span></code> Section Settings<a class="headerlink" href="#fcgi-program-x-section-settings" title="Permalink to this headline">¶</a></h2>
<p>Supervisor can manage groups of <a class="reference external" href="http://www.fastcgi.com">FastCGI</a>
processes that all listen on the same socket.  Until now, deployment
flexibility for FastCGI was limited.  To get full process management,
you could use mod_fastcgi under Apache but then you were stuck with
Apache&#8217;s inefficient concurrency model of one process or thread per
connection.  In addition to requiring more CPU and memory resources,
the process/thread per connection model can be quickly saturated by a
slow resource, preventing other resources from being served.  In order
to take advantage of newer event-driven web servers such as lighttpd
or nginx which don&#8217;t include a built-in process manager, you had to
use scripts like cgi-fcgi or spawn-fcgi.  These can be used in
conjunction with a process manager such as supervisord or daemontools
but require each FastCGI child process to bind to its own socket.
The disadvantages of this are: unnecessarily complicated web server
configuration, ungraceful restarts, and reduced fault tolerance.  With
fewer sockets to configure, web server configurations are much smaller
if groups of FastCGI processes can share sockets.  Shared sockets
allow for graceful restarts because the socket remains bound by the
parent process while any of the child processes are being restarted.
Finally, shared sockets are more fault tolerant because if a given
process fails, other processes can continue to serve inbound
connections.</p>
<p>With integrated FastCGI spawning support, Supervisor gives you the
best of both worlds.  You get full-featured process management with
groups of FastCGI processes sharing sockets without being tied to a
particular web server.  It&#8217;s a clean separation of concerns, allowing
the web server and the process manager to each do what they do best.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The socket manager in Supervisor was originally developed to support
FastCGI processes but it is not limited to FastCGI.  Other protocols may
be used as well with no special configuration.  Any program that can
access an open socket from a file descriptor (e.g. with
<a class="reference external" href="http://docs.python.org/library/socket.html#socket.fromfd">socket.fromfd</a>
in Python) can use the socket manager.  Supervisor will automatically
create the socket, bind, and listen before forking the first child in a
group.  The socket will be passed to each child on file descriptor
number <code class="docutils literal"><span class="pre">0</span></code> (zero).  When the last child in the group exits,
Supervisor will close the socket.</p>
</div>
<p>All the options available to <code class="docutils literal"><span class="pre">[program:x]</span></code> sections are
also respected by <code class="docutils literal"><span class="pre">fcgi-program</span></code> sections.</p>
<div class="section" id="fcgi-program-x-section-values">
<h3><code class="docutils literal"><span class="pre">[fcgi-program:x]</span></code> Section Values<a class="headerlink" href="#fcgi-program-x-section-values" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">[fcgi-program:x]</span></code> sections have a single key which <code class="docutils literal"><span class="pre">[program:x]</span></code>
sections do not have.</p>
<p><code class="docutils literal"><span class="pre">socket</span></code></p>
<blockquote>
<div><p>The FastCGI socket for this program, either TCP or UNIX domain
socket. For TCP sockets, use this format: <code class="docutils literal"><span class="pre">tcp://localhost:9002</span></code>.
For UNIX domain sockets, use <code class="docutils literal"><span class="pre">unix:///absolute/path/to/file.sock</span></code>.
String expressions are evaluated against a dictionary containing the
keys &#8220;program_name&#8221; and &#8220;here&#8221; (the directory of the supervisord
config file).</p>
<p><em>Default</em>: No default.</p>
<p><em>Required</em>:  Yes.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">socket_owner</span></code></p>
<blockquote>
<div><p>For UNIX domain sockets, this parameter can be used to specify the user
and group for the FastCGI socket. May be a UNIX username (e.g. chrism)
or a UNIX username and group separated by a colon (e.g. chrism:wheel).</p>
<p><em>Default</em>: Uses the user and group set for the fcgi-program</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">socket_mode</span></code></p>
<blockquote>
<div><p>For UNIX domain sockets, this parameter can be used to specify the
permission mode.</p>
<p><em>Default</em>: 0700</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
<p>Consult <a class="reference internal" href="#programx-section"><span>[program:x] Section Settings</span></a> for other allowable keys, delta the
above constraints and additions.</p>
</div>
<div class="section" id="fcgi-program-x-section-example">
<h3><code class="docutils literal"><span class="pre">[fcgi-program:x]</span></code> Section Example<a class="headerlink" href="#fcgi-program-x-section-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[fcgi-program:fcgiprogramname]</span>
<span class="na">command</span><span class="o">=</span><span class="s">/usr/bin/example.fcgi</span>
<span class="na">socket</span><span class="o">=</span><span class="s">unix:///var/run/supervisor/%(program_name)s.sock</span>
<span class="na">socket_owner</span><span class="o">=</span><span class="s">chrism</span>
<span class="na">socket_mode</span><span class="o">=</span><span class="s">0700</span>
<span class="na">process_name</span><span class="o">=</span><span class="s">%(program_name)s_%(process_num)02d</span>
<span class="na">numprocs</span><span class="o">=</span><span class="s">5</span>
<span class="na">directory</span><span class="o">=</span><span class="s">/tmp</span>
<span class="na">umask</span><span class="o">=</span><span class="s">022</span>
<span class="na">priority</span><span class="o">=</span><span class="s">999</span>
<span class="na">autostart</span><span class="o">=</span><span class="s">true</span>
<span class="na">autorestart</span><span class="o">=</span><span class="s">unexpected</span>
<span class="na">startsecs</span><span class="o">=</span><span class="s">1</span>
<span class="na">startretries</span><span class="o">=</span><span class="s">3</span>
<span class="na">exitcodes</span><span class="o">=</span><span class="s">0,2</span>
<span class="na">stopsignal</span><span class="o">=</span><span class="s">QUIT</span>
<span class="na">stopasgroup</span><span class="o">=</span><span class="s">false</span>
<span class="na">killasgroup</span><span class="o">=</span><span class="s">false</span>
<span class="na">stopwaitsecs</span><span class="o">=</span><span class="s">10</span>
<span class="na">user</span><span class="o">=</span><span class="s">chrism</span>
<span class="na">redirect_stderr</span><span class="o">=</span><span class="s">true</span>
<span class="na">stdout_logfile</span><span class="o">=</span><span class="s">/a/path</span>
<span class="na">stdout_logfile_maxbytes</span><span class="o">=</span><span class="s">1MB</span>
<span class="na">stdout_logfile_backups</span><span class="o">=</span><span class="s">10</span>
<span class="na">stdout_events_enabled</span><span class="o">=</span><span class="s">false</span>
<span class="na">stderr_logfile</span><span class="o">=</span><span class="s">/a/path</span>
<span class="na">stderr_logfile_maxbytes</span><span class="o">=</span><span class="s">1MB</span>
<span class="na">stderr_logfile_backups</span><span class="o">=</span><span class="s">10</span>
<span class="na">stderr_events_enabled</span><span class="o">=</span><span class="s">false</span>
<span class="na">environment</span><span class="o">=</span><span class="s">A=&quot;1&quot;,B=&quot;2&quot;</span>
<span class="na">serverurl</span><span class="o">=</span><span class="s">AUTO</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="eventlistener-x-section-settings">
<h2><code class="docutils literal"><span class="pre">[eventlistener:x]</span></code> Section Settings<a class="headerlink" href="#eventlistener-x-section-settings" title="Permalink to this headline">¶</a></h2>
<p>Supervisor allows specialized homogeneous process groups (&#8220;event
listener pools&#8221;) to be defined within the configuration file.  These
pools contain processes that are meant to receive and respond to event
notifications from supervisor&#8217;s event system.  See <a class="reference internal" href="events.html#events"><span>Events</span></a> for
an explanation of how events work and how to implement programs that
can be declared as event listeners.</p>
<p>Note that all the options available to <code class="docutils literal"><span class="pre">[program:x]</span></code> sections are
respected by eventlistener sections <em>except</em> for
<code class="docutils literal"><span class="pre">stdout_capture_maxbytes</span></code> and <code class="docutils literal"><span class="pre">stderr_capture_maxbytes</span></code> (event
listeners cannot emit process communication events, see
<a class="reference internal" href="logging.html#capture-mode"><span>Capture Mode</span></a>).</p>
<div class="section" id="eventlistener-x-section-values">
<h3><code class="docutils literal"><span class="pre">[eventlistener:x]</span></code> Section Values<a class="headerlink" href="#eventlistener-x-section-values" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">[eventlistener:x]</span></code> sections have a few keys which <code class="docutils literal"><span class="pre">[program:x]</span></code>
sections do not have.</p>
<p><code class="docutils literal"><span class="pre">buffer_size</span></code></p>
<blockquote>
<div>The event listener pool&#8217;s event queue buffer size.  When a listener
pool&#8217;s event buffer is overflowed (as can happen when an event
listener pool cannot keep up with all of the events sent to it), the
oldest event in the buffer is discarded.</div></blockquote>
<p><code class="docutils literal"><span class="pre">events</span></code></p>
<blockquote>
<div>A comma-separated list of event type names that this listener is
&#8220;interested&#8221; in receiving notifications for (see
<a class="reference internal" href="events.html#event-types"><span>Event Types</span></a> for a list of valid event type names).</div></blockquote>
<p><code class="docutils literal"><span class="pre">result_handler</span></code></p>
<blockquote>
<div>A <a class="reference external" href="http://peak.telecommunity.com/DevCenter/PkgResources">pkg_resources entry point string</a> that
resolves to a Python callable.  The default value is
<code class="docutils literal"><span class="pre">supervisor.dispatchers:default_handler</span></code>.  Specifying an alternate
result handler is a very uncommon thing to need to do, and as a
result, how to create one is not documented.</div></blockquote>
<p>Consult <a class="reference internal" href="#programx-section"><span>[program:x] Section Settings</span></a> for other allowable keys, delta the
above constraints and additions.</p>
</div>
<div class="section" id="eventlistener-x-section-example">
<h3><code class="docutils literal"><span class="pre">[eventlistener:x]</span></code> Section Example<a class="headerlink" href="#eventlistener-x-section-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[eventlistener:theeventlistenername]</span>
<span class="na">command</span><span class="o">=</span><span class="s">/bin/eventlistener</span>
<span class="na">process_name</span><span class="o">=</span><span class="s">%(program_name)s_%(process_num)02d</span>
<span class="na">numprocs</span><span class="o">=</span><span class="s">5</span>
<span class="na">events</span><span class="o">=</span><span class="s">PROCESS_STATE</span>
<span class="na">buffer_size</span><span class="o">=</span><span class="s">10</span>
<span class="na">directory</span><span class="o">=</span><span class="s">/tmp</span>
<span class="na">umask</span><span class="o">=</span><span class="s">022</span>
<span class="na">priority</span><span class="o">=</span><span class="s">-1</span>
<span class="na">autostart</span><span class="o">=</span><span class="s">true</span>
<span class="na">autorestart</span><span class="o">=</span><span class="s">unexpected</span>
<span class="na">startsecs</span><span class="o">=</span><span class="s">1</span>
<span class="na">startretries</span><span class="o">=</span><span class="s">3</span>
<span class="na">exitcodes</span><span class="o">=</span><span class="s">0,2</span>
<span class="na">stopsignal</span><span class="o">=</span><span class="s">QUIT</span>
<span class="na">stopwaitsecs</span><span class="o">=</span><span class="s">10</span>
<span class="na">stopasgroup</span><span class="o">=</span><span class="s">false</span>
<span class="na">killasgroup</span><span class="o">=</span><span class="s">false</span>
<span class="na">user</span><span class="o">=</span><span class="s">chrism</span>
<span class="na">redirect_stderr</span><span class="o">=</span><span class="s">false</span>
<span class="na">stdout_logfile</span><span class="o">=</span><span class="s">/a/path</span>
<span class="na">stdout_logfile_maxbytes</span><span class="o">=</span><span class="s">1MB</span>
<span class="na">stdout_logfile_backups</span><span class="o">=</span><span class="s">10</span>
<span class="na">stdout_events_enabled</span><span class="o">=</span><span class="s">false</span>
<span class="na">stderr_logfile</span><span class="o">=</span><span class="s">/a/path</span>
<span class="na">stderr_logfile_maxbytes</span><span class="o">=</span><span class="s">1MB</span>
<span class="na">stderr_logfile_backups</span><span class="o">=</span><span class="s">10</span>
<span class="na">stderr_events_enabled</span><span class="o">=</span><span class="s">false</span>
<span class="na">environment</span><span class="o">=</span><span class="s">A=&quot;1&quot;,B=&quot;2&quot;</span>
<span class="na">serverurl</span><span class="o">=</span><span class="s">AUTO</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="rpcinterface-x-section-settings">
<h2><code class="docutils literal"><span class="pre">[rpcinterface:x]</span></code> Section Settings<a class="headerlink" href="#rpcinterface-x-section-settings" title="Permalink to this headline">¶</a></h2>
<p>Adding <code class="docutils literal"><span class="pre">rpcinterface:x</span></code> settings in the configuration file is only
useful for people who wish to extend supervisor with additional custom
behavior.</p>
<p>In the sample config file, there is a section which is named
<code class="docutils literal"><span class="pre">[rpcinterface:supervisor]</span></code>.  By default it looks like the
following.</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[rpcinterface:supervisor]</span>
<span class="na">supervisor.rpcinterface_factory</span> <span class="o">=</span> <span class="s">supervisor.rpcinterface:make_main_rpcinterface</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">[rpcinterface:supervisor]</span></code> section <em>must</em> remain in the
configuration for the standard setup of supervisor to work properly.
If you don&#8217;t want supervisor to do anything it doesn&#8217;t already do out
of the box, this is all you need to know about this type of section.</p>
<p>However, if you wish to add rpc interface namespaces in order to
customize supervisor, you may add additional <code class="docutils literal"><span class="pre">[rpcinterface:foo]</span></code>
sections, where &#8220;foo&#8221; represents the namespace of the interface (from
the web root), and the value named by
<code class="docutils literal"><span class="pre">supervisor.rpcinterface_factory</span></code> is a factory callable which should
have a function signature that accepts a single positional argument
<code class="docutils literal"><span class="pre">supervisord</span></code> and as many keyword arguments as required to perform
configuration.  Any extra key/value pairs defined within the
<code class="docutils literal"><span class="pre">[rpcinterface:x]</span></code> section will be passed as keyword arguments to
the factory.</p>
<p>Here&#8217;s an example of a factory function, created in the
<code class="docutils literal"><span class="pre">__init__.py</span></code> file of the Python package <code class="docutils literal"><span class="pre">my.package</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">my.package.rpcinterface</span> <span class="kn">import</span> <span class="n">AnotherRPCInterface</span>

<span class="k">def</span> <span class="nf">make_another_rpcinterface</span><span class="p">(</span><span class="n">supervisord</span><span class="p">,</span> <span class="o">**</span><span class="n">config</span><span class="p">):</span>
    <span class="n">retries</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;retries&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="n">another_rpc_interface</span> <span class="o">=</span> <span class="n">AnotherRPCInterface</span><span class="p">(</span><span class="n">supervisord</span><span class="p">,</span> <span class="n">retries</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">another_rpc_interface</span>
</pre></div>
</div>
<p>And a section in the config file meant to configure it.</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[rpcinterface:another]</span>
<span class="na">supervisor.rpcinterface_factory</span> <span class="o">=</span> <span class="s">my.package:make_another_rpcinterface</span>
<span class="na">retries</span> <span class="o">=</span> <span class="s">1</span>
</pre></div>
</div>
<div class="section" id="rpcinterface-x-section-values">
<h3><code class="docutils literal"><span class="pre">[rpcinterface:x]</span></code> Section Values<a class="headerlink" href="#rpcinterface-x-section-values" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">supervisor.rpcinterface_factory</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">pkg_resources</span></code> &#8220;entry point&#8221; dotted name to your RPC interface&#8217;s
factory function.</p>
<p><em>Default</em>: N/A</p>
<p><em>Required</em>:  No.</p>
<p><em>Introduced</em>: 3.0</p>
</div></blockquote>
</div>
<div class="section" id="rpcinterface-x-section-example">
<h3><code class="docutils literal"><span class="pre">[rpcinterface:x]</span></code> Section Example<a class="headerlink" href="#rpcinterface-x-section-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ini"><div class="highlight"><pre><span class="k">[rpcinterface:another]</span>
<span class="na">supervisor.rpcinterface_factory</span> <span class="o">=</span> <span class="s">my.package:make_another_rpcinterface</span>
<span class="na">retries</span> <span class="o">=</span> <span class="s">1</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo_hi.gif" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Configuration File</a><ul>
<li><a class="reference internal" href="#file-format">File Format</a><ul>
<li><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#unix-http-server-section-settings"><code class="docutils literal"><span class="pre">[unix_http_server]</span></code> Section Settings</a><ul>
<li><a class="reference internal" href="#unix-http-server-section-values"><code class="docutils literal"><span class="pre">[unix_http_server]</span></code> Section Values</a></li>
<li><a class="reference internal" href="#unix-http-server-section-example"><code class="docutils literal"><span class="pre">[unix_http_server]</span></code> Section Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inet-http-server-section-settings"><code class="docutils literal"><span class="pre">[inet_http_server]</span></code> Section Settings</a><ul>
<li><a class="reference internal" href="#inet-http-server-section-values"><code class="docutils literal"><span class="pre">[inet_http_server]</span></code> Section Values</a></li>
<li><a class="reference internal" href="#inet-http-server-section-example"><code class="docutils literal"><span class="pre">[inet_http_server]</span></code> Section Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#supervisord-section-settings"><code class="docutils literal"><span class="pre">[supervisord]</span></code> Section Settings</a><ul>
<li><a class="reference internal" href="#supervisord-section-values"><code class="docutils literal"><span class="pre">[supervisord]</span></code> Section Values</a></li>
<li><a class="reference internal" href="#supervisord-section-example"><code class="docutils literal"><span class="pre">[supervisord]</span></code> Section Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#supervisorctl-section-settings"><code class="docutils literal"><span class="pre">[supervisorctl]</span></code> Section Settings</a><ul>
<li><a class="reference internal" href="#supervisorctl-section-values"><code class="docutils literal"><span class="pre">[supervisorctl]</span></code> Section Values</a></li>
<li><a class="reference internal" href="#supervisorctl-section-example"><code class="docutils literal"><span class="pre">[supervisorctl]</span></code> Section Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#program-x-section-settings"><code class="docutils literal"><span class="pre">[program:x]</span></code> Section Settings</a><ul>
<li><a class="reference internal" href="#program-x-section-values"><code class="docutils literal"><span class="pre">[program:x]</span></code> Section Values</a></li>
<li><a class="reference internal" href="#program-x-section-example"><code class="docutils literal"><span class="pre">[program:x]</span></code> Section Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#include-section-settings"><code class="docutils literal"><span class="pre">[include]</span></code> Section Settings</a><ul>
<li><a class="reference internal" href="#include-section-values"><code class="docutils literal"><span class="pre">[include]</span></code> Section Values</a></li>
<li><a class="reference internal" href="#include-section-example"><code class="docutils literal"><span class="pre">[include]</span></code> Section Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#group-x-section-settings"><code class="docutils literal"><span class="pre">[group:x]</span></code> Section Settings</a><ul>
<li><a class="reference internal" href="#group-x-section-values"><code class="docutils literal"><span class="pre">[group:x]</span></code> Section Values</a></li>
<li><a class="reference internal" href="#group-x-section-example"><code class="docutils literal"><span class="pre">[group:x]</span></code> Section Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fcgi-program-x-section-settings"><code class="docutils literal"><span class="pre">[fcgi-program:x]</span></code> Section Settings</a><ul>
<li><a class="reference internal" href="#fcgi-program-x-section-values"><code class="docutils literal"><span class="pre">[fcgi-program:x]</span></code> Section Values</a></li>
<li><a class="reference internal" href="#fcgi-program-x-section-example"><code class="docutils literal"><span class="pre">[fcgi-program:x]</span></code> Section Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#eventlistener-x-section-settings"><code class="docutils literal"><span class="pre">[eventlistener:x]</span></code> Section Settings</a><ul>
<li><a class="reference internal" href="#eventlistener-x-section-values"><code class="docutils literal"><span class="pre">[eventlistener:x]</span></code> Section Values</a></li>
<li><a class="reference internal" href="#eventlistener-x-section-example"><code class="docutils literal"><span class="pre">[eventlistener:x]</span></code> Section Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rpcinterface-x-section-settings"><code class="docutils literal"><span class="pre">[rpcinterface:x]</span></code> Section Settings</a><ul>
<li><a class="reference internal" href="#rpcinterface-x-section-values"><code class="docutils literal"><span class="pre">[rpcinterface:x]</span></code> Section Values</a></li>
<li><a class="reference internal" href="#rpcinterface-x-section-example"><code class="docutils literal"><span class="pre">[rpcinterface:x]</span></code> Section Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="running.html" title="previous chapter">Running Supervisor</a></li>
      <li>Next: <a href="subprocess.html" title="next chapter">Subprocesses</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/configuration.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2004-2016, Agendaless Consulting and Contributors.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/configuration.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>