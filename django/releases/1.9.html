<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Django 1.9 release notes &mdash; Django 1.9.1.dev20151230225111 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.9.1.dev20151230225111',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Django 1.9.1.dev20151230225111 documentation" href="../index.html" />
    <link rel="up" title="Release notes" href="index.html" />
    <link rel="next" title="Django 1.8.8 release notes" href="1.8.8.html" />
    <link rel="prev" title="Django 1.9.1 release notes" href="1.9.1.html" />



 
<script type="text/javascript" src="../templatebuiltins.js"></script>
<script type="text/javascript">
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../ref/templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);
</script>


  </head>
  <body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../index.html">Django 1.9.1.dev20151230225111 documentation</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../index.html">Home</a>  |
        <a title="Table of contents" href="../contents.html">Table of contents</a>  |
        <a title="Global index" href="../genindex.html">Index</a>  |
        <a title="Module index" href="../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="1.9.1.html" title="Django 1.9.1 release notes">previous</a>
     |
    <a href="index.html" title="Release notes" accesskey="U">up</a>
   |
    <a href="1.8.8.html" title="Django 1.8.8 release notes">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="releases-1.9">
            
  <div class="section" id="s-django-1-9-release-notes">
<span id="django-1-9-release-notes"></span><h1>Django 1.9 release notes<a class="headerlink" href="#django-1-9-release-notes" title="Permalink to this headline">¶</a></h1>
<p><em>December 1, 2015</em></p>
<p>Welcome to Django 1.9!</p>
<p>These release notes cover the <a class="reference internal" href="#what-s-new-in-django-1-9">new features</a>, as well as some <a class="reference internal" href="#backwards-incompatible-changes-in-1-9">backwards
incompatible changes</a> you&#8217;ll want to be aware of when upgrading from Django
1.8 or older versions. We&#8217;ve <a class="reference internal" href="#removed-features-1-9"><em>dropped some features</em></a>
that have reached the end of their deprecation cycle, and we&#8217;ve <a class="reference internal" href="#features-deprecated-in-1-9">begun the
deprecation process for some features</a>.</p>
<div class="section" id="s-python-compatibility">
<span id="python-compatibility"></span><h2>Python compatibility<a class="headerlink" href="#python-compatibility" title="Permalink to this headline">¶</a></h2>
<p>Django 1.9 requires Python 2.7, 3.4, or 3.5. We <strong>highly recommend</strong> and only
officially support the latest release of each series.</p>
<p>The Django 1.8 series is the last to support Python 3.2 and 3.3.</p>
</div>
<div class="section" id="s-what-s-new-in-django-1-9">
<span id="what-s-new-in-django-1-9"></span><h2>What&#8217;s new in Django 1.9<a class="headerlink" href="#what-s-new-in-django-1-9" title="Permalink to this headline">¶</a></h2>
<div class="section" id="s-performing-actions-after-a-transaction-commit">
<span id="performing-actions-after-a-transaction-commit"></span><h3>Performing actions after a transaction commit<a class="headerlink" href="#performing-actions-after-a-transaction-commit" title="Permalink to this headline">¶</a></h3>
<p>The new <a class="reference internal" href="../topics/db/transactions.html#django.db.transaction.on_commit" title="django.db.transaction.on_commit"><tt class="xref py py-func docutils literal"><span class="pre">on_commit()</span></tt></a> hook allows performing actions
after a database transaction is successfully committed. This is useful for
tasks such as sending notification emails, creating queued tasks, or
invalidating caches.</p>
<p>This functionality from the <a class="reference external" href="https://pypi.python.org/pypi/django-transaction-hooks">django-transaction-hooks</a> package has been
integrated into Django.</p>
</div>
<div class="section" id="s-password-validation">
<span id="password-validation"></span><h3>Password validation<a class="headerlink" href="#password-validation" title="Permalink to this headline">¶</a></h3>
<p>Django now offers password validation to help prevent the usage of weak
passwords by users. The validation is integrated in the included password
change and reset forms and is simple to integrate in any other code.
Validation is performed by one or more validators, configured in the new
<a class="reference internal" href="../ref/settings.html#std:setting-AUTH_PASSWORD_VALIDATORS"><tt class="xref std std-setting docutils literal"><span class="pre">AUTH_PASSWORD_VALIDATORS</span></tt></a> setting.</p>
<p>Four validators are included in Django, which can enforce a minimum length,
compare the password to the user&#8217;s attributes like their name, ensure
passwords aren&#8217;t entirely numeric, or check against an included list of common
passwords. You can combine multiple validators, and some validators have
custom configuration options. For example, you can choose to provide a custom
list of common passwords. Each validator provides a help text to explain its
requirements to the user.</p>
<p>By default, no validation is performed and all passwords are accepted, so if
you don&#8217;t set <a class="reference internal" href="../ref/settings.html#std:setting-AUTH_PASSWORD_VALIDATORS"><tt class="xref std std-setting docutils literal"><span class="pre">AUTH_PASSWORD_VALIDATORS</span></tt></a>, you will not see any
change. In new projects created with the default <a class="reference internal" href="../ref/django-admin.html#django-admin-startproject"><tt class="xref std std-djadmin docutils literal"><span class="pre">startproject</span></tt></a>
template, a simple set of validators is enabled. To enable basic validation in
the included auth forms for your project, you could set, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">AUTH_PASSWORD_VALIDATORS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s">&#39;NAME&#39;</span><span class="p">:</span> <span class="s">&#39;django.contrib.auth.password_validation.UserAttributeSimilarityValidator&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s">&#39;NAME&#39;</span><span class="p">:</span> <span class="s">&#39;django.contrib.auth.password_validation.MinimumLengthValidator&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s">&#39;NAME&#39;</span><span class="p">:</span> <span class="s">&#39;django.contrib.auth.password_validation.CommonPasswordValidator&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s">&#39;NAME&#39;</span><span class="p">:</span> <span class="s">&#39;django.contrib.auth.password_validation.NumericPasswordValidator&#39;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../topics/auth/passwords.html#password-validation"><em>Password validation</em></a> for more details.</p>
</div>
<div class="section" id="s-permission-mixins-for-class-based-views">
<span id="permission-mixins-for-class-based-views"></span><h3>Permission mixins for class-based views<a class="headerlink" href="#permission-mixins-for-class-based-views" title="Permalink to this headline">¶</a></h3>
<p>Django now ships with the mixins
<a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.mixins.AccessMixin" title="django.contrib.auth.mixins.AccessMixin"><tt class="xref py py-class docutils literal"><span class="pre">AccessMixin</span></tt></a>,
<a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.mixins.LoginRequiredMixin" title="django.contrib.auth.mixins.LoginRequiredMixin"><tt class="xref py py-class docutils literal"><span class="pre">LoginRequiredMixin</span></tt></a>,
<a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.mixins.PermissionRequiredMixin" title="django.contrib.auth.mixins.PermissionRequiredMixin"><tt class="xref py py-class docutils literal"><span class="pre">PermissionRequiredMixin</span></tt></a>, and
<a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.mixins.UserPassesTestMixin" title="django.contrib.auth.mixins.UserPassesTestMixin"><tt class="xref py py-class docutils literal"><span class="pre">UserPassesTestMixin</span></tt></a> to provide the
functionality of the <tt class="docutils literal"><span class="pre">django.contrib.auth.decorators</span></tt> for class-based views.
These mixins have been taken from, or are at least inspired by, the
<a class="reference external" href="http://django-braces.readthedocs.org/en/latest/index.html">django-braces</a> project.</p>
<p>There are a few differences between Django&#8217;s and django-braces&#8217; implementation,
though:</p>
<ul class="simple">
<li>The <a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.mixins.AccessMixin.raise_exception" title="django.contrib.auth.mixins.AccessMixin.raise_exception"><tt class="xref py py-attr docutils literal"><span class="pre">raise_exception</span></tt></a> attribute
can only be <tt class="docutils literal"><span class="pre">True</span></tt> or <tt class="docutils literal"><span class="pre">False</span></tt>. Custom exceptions or callables are not
supported.</li>
<li>The <a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.mixins.AccessMixin.handle_no_permission" title="django.contrib.auth.mixins.AccessMixin.handle_no_permission"><tt class="xref py py-meth docutils literal"><span class="pre">handle_no_permission()</span></tt></a>
method does not take a <tt class="docutils literal"><span class="pre">request</span></tt> argument. The current request is available
in <tt class="docutils literal"><span class="pre">self.request</span></tt>.</li>
<li>The custom <tt class="docutils literal"><span class="pre">test_func()</span></tt> of <a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.mixins.UserPassesTestMixin" title="django.contrib.auth.mixins.UserPassesTestMixin"><tt class="xref py py-class docutils literal"><span class="pre">UserPassesTestMixin</span></tt></a>
does not take a <tt class="docutils literal"><span class="pre">user</span></tt> argument. The current user is available in
<tt class="docutils literal"><span class="pre">self.request.user</span></tt>.</li>
<li>The <a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.mixins.PermissionRequiredMixin" title="django.contrib.auth.mixins.PermissionRequiredMixin"><tt class="xref py py-attr docutils literal"><span class="pre">permission_required</span></tt></a>
attribute supports a string (defining one permission) or a list/tuple of
strings (defining multiple permissions) that need to be fulfilled to grant
access.</li>
<li>The new <a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.mixins.AccessMixin.permission_denied_message" title="django.contrib.auth.mixins.AccessMixin.permission_denied_message"><tt class="xref py py-attr docutils literal"><span class="pre">permission_denied_message</span></tt></a>
attribute allows passing a message to the <tt class="docutils literal"><span class="pre">PermissionDenied</span></tt> exception.</li>
</ul>
</div>
<div class="section" id="s-new-styling-for-contrib-admin">
<span id="new-styling-for-contrib-admin"></span><h3>New styling for <tt class="docutils literal"><span class="pre">contrib.admin</span></tt><a class="headerlink" href="#new-styling-for-contrib-admin" title="Permalink to this headline">¶</a></h3>
<p>The admin sports a modern, flat design with new SVG icons which look perfect
on HiDPI screens. It still provides a fully-functional experience to <a class="reference external" href="https://github.com/yui/yui3/wiki/Graded-Browser-Support">YUI&#8217;s
A-grade</a> browsers. Older browser may experience varying levels of graceful
degradation.</p>
</div>
<div class="section" id="s-running-tests-in-parallel">
<span id="running-tests-in-parallel"></span><h3>Running tests in parallel<a class="headerlink" href="#running-tests-in-parallel" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../ref/django-admin.html#django-admin-test"><tt class="xref std std-djadmin docutils literal"><span class="pre">test</span></tt></a> command now supports a <a class="reference internal" href="../ref/django-admin.html#django-admin-option---parallel"><tt class="xref std std-djadminopt docutils literal"><span class="pre">--parallel</span></tt></a> option to
run a project&#8217;s tests in multiple processes in parallel.</p>
<p>Each process gets its own database. You must ensure that different test cases
don&#8217;t access the same resources. For instance, test cases that touch the
filesystem should create a temporary directory for their own use.</p>
<p>This option is enabled by default for Django&#8217;s own test suite provided:</p>
<ul class="simple">
<li>the OS supports it (all but Windows)</li>
<li>the database backend supports it (all the built-in backends but Oracle)</li>
</ul>
</div>
<div class="section" id="s-minor-features">
<span id="minor-features"></span><h3>Minor features<a class="headerlink" href="#minor-features" title="Permalink to this headline">¶</a></h3>
<div class="section" id="s-django-contrib-admin">
<span id="django-contrib-admin"></span><h4><a class="reference internal" href="../ref/contrib/admin/index.html#module-django.contrib.admin" title="django.contrib.admin: Django's admin site."><tt class="xref py py-mod docutils literal"><span class="pre">django.contrib.admin</span></tt></a><a class="headerlink" href="#django-contrib-admin" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Admin views now have <tt class="docutils literal"><span class="pre">model_admin</span></tt> or <tt class="docutils literal"><span class="pre">admin_site</span></tt> attributes.</li>
<li>The URL of the admin change view has been changed (was at
<tt class="docutils literal"><span class="pre">/admin/&lt;app&gt;/&lt;model&gt;/&lt;pk&gt;/</span></tt> by default and is now at
<tt class="docutils literal"><span class="pre">/admin/&lt;app&gt;/&lt;model&gt;/&lt;pk&gt;/change/</span></tt>). This should not affect your
application unless you have hardcoded admin URLs. In that case, replace those
links by <a class="reference internal" href="../ref/contrib/admin/index.html#admin-reverse-urls"><em>reversing admin URLs</em></a> instead. Note that
the old URL still redirects to the new one for backwards compatibility, but
it may be removed in a future version.</li>
<li><a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin.get_list_select_related" title="django.contrib.admin.ModelAdmin.get_list_select_related"><tt class="xref py py-meth docutils literal"><span class="pre">ModelAdmin.get_list_select_related()</span></tt></a> was added to allow
changing the <tt class="docutils literal"><span class="pre">select_related()</span></tt> values used in the admin&#8217;s changelist query
based on the request.</li>
<li>The <tt class="docutils literal"><span class="pre">available_apps</span></tt> context variable, which lists the available
applications for the current user, has been added to the
<a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.AdminSite.each_context" title="django.contrib.admin.AdminSite.each_context"><tt class="xref py py-meth docutils literal"><span class="pre">AdminSite.each_context()</span></tt></a>
method.</li>
<li><a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.AdminSite.empty_value_display" title="django.contrib.admin.AdminSite.empty_value_display"><tt class="xref py py-attr docutils literal"><span class="pre">AdminSite.empty_value_display</span></tt></a> and
<a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin.empty_value_display" title="django.contrib.admin.ModelAdmin.empty_value_display"><tt class="xref py py-attr docutils literal"><span class="pre">ModelAdmin.empty_value_display</span></tt></a> were added to override
the display of empty values in admin change list. You can also customize the
value for each field.</li>
<li>Added jQuery events <a class="reference internal" href="../ref/contrib/admin/javascript.html#admin-javascript-inline-form-events"><em>when an inline form is added or removed</em></a> on the change form page.</li>
<li>The time picker widget includes a &#8216;6 p.m&#8217; option for consistency of having
predefined options every 6 hours.</li>
<li>JavaScript slug generation now supports Romanian characters.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-admindocs">
<span id="django-contrib-admindocs"></span><h4><a class="reference internal" href="../ref/contrib/admin/admindocs.html#module-django.contrib.admindocs" title="django.contrib.admindocs: Django's admin documentation generator."><tt class="xref py py-mod docutils literal"><span class="pre">django.contrib.admindocs</span></tt></a><a class="headerlink" href="#django-contrib-admindocs" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The model section of the <tt class="docutils literal"><span class="pre">admindocs</span></tt> now also describes methods that take
arguments, rather than ignoring them.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-auth">
<span id="django-contrib-auth"></span><h4><a class="reference internal" href="../topics/auth/index.html#module-django.contrib.auth" title="django.contrib.auth: Django's authentication framework."><tt class="xref py py-mod docutils literal"><span class="pre">django.contrib.auth</span></tt></a><a class="headerlink" href="#django-contrib-auth" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The default iteration count for the PBKDF2 password hasher has been increased
by 20%. This backwards compatible change will not affect users who have
subclassed <tt class="docutils literal"><span class="pre">django.contrib.auth.hashers.PBKDF2PasswordHasher</span></tt> to change the
default value.</li>
<li>The <tt class="docutils literal"><span class="pre">BCryptSHA256PasswordHasher</span></tt> will now update passwords if its
<tt class="docutils literal"><span class="pre">rounds</span></tt> attribute is changed.</li>
<li><tt class="docutils literal"><span class="pre">AbstractBaseUser</span></tt> and <tt class="docutils literal"><span class="pre">BaseUserManager</span></tt> were moved to a new
<tt class="docutils literal"><span class="pre">django.contrib.auth.base_user</span></tt> module so that they can be imported without
including <tt class="docutils literal"><span class="pre">django.contrib.auth</span></tt> in <a class="reference internal" href="../ref/settings.html#std:setting-INSTALLED_APPS"><tt class="xref std std-setting docutils literal"><span class="pre">INSTALLED_APPS</span></tt></a> (doing so
raised a deprecation warning in older versions and is no longer supported in
Django 1.9).</li>
<li>The permission argument of
<a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.decorators.permission_required" title="django.contrib.auth.decorators.permission_required"><tt class="xref py py-func docutils literal"><span class="pre">permission_required()</span></tt></a> accepts all
kinds of iterables, not only list and tuples.</li>
<li>The new <a class="reference internal" href="../ref/middleware.html#django.contrib.auth.middleware.PersistentRemoteUserMiddleware" title="django.contrib.auth.middleware.PersistentRemoteUserMiddleware"><tt class="xref py py-class docutils literal"><span class="pre">PersistentRemoteUserMiddleware</span></tt></a>
makes it possible to use <tt class="docutils literal"><span class="pre">REMOTE_USER</span></tt> for setups where the header is only
populated on login pages instead of every request in the session.</li>
<li>The <a class="reference internal" href="../topics/auth/default.html#django.contrib.auth.views.password_reset" title="django.contrib.auth.views.password_reset"><tt class="xref py py-func docutils literal"><span class="pre">password_reset()</span></tt></a> view accepts an
<tt class="docutils literal"><span class="pre">extra_email_context</span></tt> parameter.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-contenttypes">
<span id="django-contrib-contenttypes"></span><h4><a class="reference internal" href="../ref/contrib/contenttypes.html#module-django.contrib.contenttypes" title="django.contrib.contenttypes: Provides generic interface to installed models."><tt class="xref py py-mod docutils literal"><span class="pre">django.contrib.contenttypes</span></tt></a><a class="headerlink" href="#django-contrib-contenttypes" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>It&#8217;s now possible to use
<a class="reference internal" href="../ref/models/options.html#django.db.models.Options.order_with_respect_to" title="django.db.models.Options.order_with_respect_to"><tt class="xref py py-attr docutils literal"><span class="pre">order_with_respect_to</span></tt></a> with a
<tt class="docutils literal"><span class="pre">GenericForeignKey</span></tt>.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-gis">
<span id="django-contrib-gis"></span><h4><a class="reference internal" href="../ref/contrib/gis/index.html#module-django.contrib.gis" title="django.contrib.gis: Geographic Information System (GIS) extensions for Django"><tt class="xref py py-mod docutils literal"><span class="pre">django.contrib.gis</span></tt></a><a class="headerlink" href="#django-contrib-gis" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>All <tt class="docutils literal"><span class="pre">GeoQuerySet</span></tt> methods have been deprecated and replaced by
<a class="reference internal" href="../ref/contrib/gis/functions.html"><em>equivalent database functions</em></a>. As soon
as the legacy methods have been replaced in your code, you should even be
able to remove the special <tt class="docutils literal"><span class="pre">GeoManager</span></tt> from your GIS-enabled classes.</li>
<li>The GDAL interface now supports instantiating file-based and in-memory
<a class="reference internal" href="../ref/contrib/gis/gdal.html#raster-data-source-objects"><em>GDALRaster objects</em></a> from raw data.
Setters for raster properties such as projection or pixel values have
been added.</li>
<li>For PostGIS users, the new <a class="reference internal" href="../ref/contrib/gis/model-api.html#django.contrib.gis.db.models.RasterField" title="django.contrib.gis.db.models.RasterField"><tt class="xref py py-class docutils literal"><span class="pre">RasterField</span></tt></a>
allows <a class="reference internal" href="../ref/contrib/gis/db-api.html#creating-and-saving-raster-models"><em>storing GDALRaster objects</em></a>.
It supports automatic spatial index creation and reprojection when saving a
model. It does not yet support spatial querying.</li>
<li>The new <a class="reference internal" href="../ref/contrib/gis/gdal.html#django.contrib.gis.gdal.GDALRaster.warp" title="django.contrib.gis.gdal.GDALRaster.warp"><tt class="xref py py-meth docutils literal"><span class="pre">GDALRaster.warp()</span></tt></a>
method allows warping a raster by specifying target raster properties such as
origin, width, height, or pixel size (amongst others).</li>
<li>The new <a class="reference internal" href="../ref/contrib/gis/gdal.html#django.contrib.gis.gdal.GDALRaster.transform" title="django.contrib.gis.gdal.GDALRaster.transform"><tt class="xref py py-meth docutils literal"><span class="pre">GDALRaster.transform()</span></tt></a> method allows transforming a
raster into a different spatial reference system by specifying a target
<tt class="docutils literal"><span class="pre">srid</span></tt>.</li>
<li>The new <a class="reference internal" href="../ref/contrib/gis/geoip2.html#django.contrib.gis.geoip2.GeoIP2" title="django.contrib.gis.geoip2.GeoIP2"><tt class="xref py py-class docutils literal"><span class="pre">GeoIP2</span></tt></a> class allows using
MaxMind&#8217;s GeoLite2 databases which includes support for IPv6 addresses.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-postgres">
<span id="django-contrib-postgres"></span><h4><a class="reference internal" href="../ref/contrib/postgres/index.html#module-django.contrib.postgres" title="django.contrib.postgres: PostgreSQL-specific fields and features"><tt class="xref py py-mod docutils literal"><span class="pre">django.contrib.postgres</span></tt></a><a class="headerlink" href="#django-contrib-postgres" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added support for the <a class="reference internal" href="../ref/contrib/postgres/fields.html#std:fieldlookup-rangefield.contained_by"><tt class="xref std std-lookup docutils literal"><span class="pre">rangefield.contained_by</span></tt></a> lookup for some built
in fields which correspond to the range fields.</li>
<li>Added <a class="reference internal" href="../ref/contrib/postgres/fields.html#django.contrib.postgres.fields.JSONField" title="django.contrib.postgres.fields.JSONField"><tt class="xref py py-class docutils literal"><span class="pre">JSONField</span></tt></a>.</li>
<li>Added <a class="reference internal" href="../ref/contrib/postgres/aggregates.html"><em>PostgreSQL specific aggregation functions</em></a>.</li>
<li>Added the <a class="reference internal" href="../ref/contrib/postgres/functions.html#django.contrib.postgres.functions.TransactionNow" title="django.contrib.postgres.functions.TransactionNow"><tt class="xref py py-class docutils literal"><span class="pre">TransactionNow</span></tt></a> database
function.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-sessions">
<span id="django-contrib-sessions"></span><h4><a class="reference internal" href="../topics/http/sessions.html#module-django.contrib.sessions" title="django.contrib.sessions: Provides session management for Django projects."><tt class="xref py py-mod docutils literal"><span class="pre">django.contrib.sessions</span></tt></a><a class="headerlink" href="#django-contrib-sessions" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The session model and <tt class="docutils literal"><span class="pre">SessionStore</span></tt> classes for the <tt class="docutils literal"><span class="pre">db</span></tt> and
<tt class="docutils literal"><span class="pre">cached_db</span></tt> backends are refactored to allow a custom database session
backend to build upon them. See
<a class="reference internal" href="../topics/http/sessions.html#extending-database-backed-session-engines"><em>Extending database-backed session engines</em></a> for more details.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-sites">
<span id="django-contrib-sites"></span><h4><a class="reference internal" href="../ref/contrib/sites.html#module-django.contrib.sites" title="django.contrib.sites: Lets you operate multiple websites from the same database and Django project"><tt class="xref py py-mod docutils literal"><span class="pre">django.contrib.sites</span></tt></a><a class="headerlink" href="#django-contrib-sites" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference internal" href="../ref/contrib/sites.html#django.contrib.sites.shortcuts.get_current_site" title="django.contrib.sites.shortcuts.get_current_site"><tt class="xref py py-func docutils literal"><span class="pre">get_current_site()</span></tt></a> now handles the case
where <tt class="docutils literal"><span class="pre">request.get_host()</span></tt> returns <tt class="docutils literal"><span class="pre">domain:port</span></tt>, e.g.
<tt class="docutils literal"><span class="pre">example.com:80</span></tt>. If the lookup fails because the host does not match a
record in the database and the host has a port, the port is stripped and the
lookup is retried with the domain part only.</li>
</ul>
</div>
<div class="section" id="s-django-contrib-syndication">
<span id="django-contrib-syndication"></span><h4><a class="reference internal" href="../ref/contrib/syndication.html#module-django.contrib.syndication" title="django.contrib.syndication: A framework for generating syndication feeds, in RSS and Atom, quite easily."><tt class="xref py py-mod docutils literal"><span class="pre">django.contrib.syndication</span></tt></a><a class="headerlink" href="#django-contrib-syndication" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Support for multiple enclosures per feed item has been added. If multiple
enclosures are defined on a RSS feed, an exception is raised as RSS feeds,
unlike Atom feeds, do not support multiple enclosures per feed item.</li>
</ul>
</div>
<div class="section" id="s-cache">
<span id="cache"></span><h4>Cache<a class="headerlink" href="#cache" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">django.core.cache.backends.base.BaseCache</span></tt> now has a <tt class="docutils literal"><span class="pre">get_or_set()</span></tt>
method.</li>
<li><a class="reference internal" href="../topics/http/decorators.html#django.views.decorators.cache.never_cache" title="django.views.decorators.cache.never_cache"><tt class="xref py py-func docutils literal"><span class="pre">django.views.decorators.cache.never_cache()</span></tt></a> now sends more persuasive
headers (added <tt class="docutils literal"><span class="pre">no-cache,</span> <span class="pre">no-store,</span> <span class="pre">must-revalidate</span></tt> to <tt class="docutils literal"><span class="pre">Cache-Control</span></tt>)
to better prevent caching. This was also added in Django 1.8.8.</li>
</ul>
</div>
<div class="section" id="s-csrf">
<span id="csrf"></span><h4>CSRF<a class="headerlink" href="#csrf" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The request header&#8217;s name used for CSRF authentication can be customized
with <a class="reference internal" href="../ref/settings.html#std:setting-CSRF_HEADER_NAME"><tt class="xref std std-setting docutils literal"><span class="pre">CSRF_HEADER_NAME</span></tt></a>.</li>
<li>The CSRF referer header is now validated against the
<a class="reference internal" href="../ref/settings.html#std:setting-CSRF_COOKIE_DOMAIN"><tt class="xref std std-setting docutils literal"><span class="pre">CSRF_COOKIE_DOMAIN</span></tt></a> setting if set. See <a class="reference internal" href="../ref/csrf.html#how-csrf-works"><em>How it works</em></a> for
details.</li>
<li>The new <a class="reference internal" href="../ref/settings.html#std:setting-CSRF_TRUSTED_ORIGINS"><tt class="xref std std-setting docutils literal"><span class="pre">CSRF_TRUSTED_ORIGINS</span></tt></a> setting provides a way to allow
cross-origin unsafe requests (e.g. <tt class="docutils literal"><span class="pre">POST</span></tt>) over HTTPS.</li>
</ul>
</div>
<div class="section" id="s-database-backends">
<span id="database-backends"></span><h4>Database backends<a class="headerlink" href="#database-backends" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The PostgreSQL backend (<tt class="docutils literal"><span class="pre">django.db.backends.postgresql_psycopg2</span></tt>) is also
available as <tt class="docutils literal"><span class="pre">django.db.backends.postgresql</span></tt>. The old name will continue to
be available for backwards compatibility.</li>
</ul>
</div>
<div class="section" id="s-file-storage">
<span id="file-storage"></span><h4>File Storage<a class="headerlink" href="#file-storage" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference internal" href="../ref/files/storage.html#django.core.files.storage.Storage.get_valid_name" title="django.core.files.storage.Storage.get_valid_name"><tt class="xref py py-meth docutils literal"><span class="pre">Storage.get_valid_name()</span></tt></a> is now called when
the <a class="reference internal" href="../ref/models/fields.html#django.db.models.FileField.upload_to" title="django.db.models.FileField.upload_to"><tt class="xref py py-attr docutils literal"><span class="pre">upload_to</span></tt></a> is a callable.</li>
<li><a class="reference internal" href="../ref/files/file.html#django.core.files.File" title="django.core.files.File"><tt class="xref py py-class docutils literal"><span class="pre">File</span></tt></a> now has the <tt class="docutils literal"><span class="pre">seekable()</span></tt> method when using
Python 3.</li>
</ul>
</div>
<div class="section" id="s-forms">
<span id="forms"></span><h4>Forms<a class="headerlink" href="#forms" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference internal" href="../topics/forms/modelforms.html#django.forms.ModelForm" title="django.forms.ModelForm"><tt class="xref py py-class docutils literal"><span class="pre">ModelForm</span></tt></a> accepts the new <tt class="docutils literal"><span class="pre">Meta</span></tt> option
<tt class="docutils literal"><span class="pre">field_classes</span></tt> to customize the type of the fields. See
<a class="reference internal" href="../topics/forms/modelforms.html#modelforms-overriding-default-fields"><em>Overriding the default fields</em></a> for details.</li>
<li>You can now specify the order in which form fields are rendered with the
<a class="reference internal" href="../ref/forms/api.html#django.forms.Form.field_order" title="django.forms.Form.field_order"><tt class="xref py py-attr docutils literal"><span class="pre">field_order</span></tt></a> attribute, the <tt class="docutils literal"><span class="pre">field_order</span></tt>
constructor argument , or the <a class="reference internal" href="../ref/forms/api.html#django.forms.Form.order_fields" title="django.forms.Form.order_fields"><tt class="xref py py-meth docutils literal"><span class="pre">order_fields()</span></tt></a> method.</li>
<li>A form prefix can be specified inside a form class, not only when
instantiating a form. See <a class="reference internal" href="../ref/forms/api.html#form-prefix"><em>Prefixes for forms</em></a> for details.</li>
<li>You can now <a class="reference internal" href="../topics/forms/formsets.html#custom-formset-form-kwargs"><em>specify keyword arguments</em></a>
that you want to pass to the constructor of forms in a formset.</li>
<li><a class="reference internal" href="../ref/forms/fields.html#django.forms.SlugField" title="django.forms.SlugField"><tt class="xref py py-class docutils literal"><span class="pre">SlugField</span></tt></a> now accepts an
<a class="reference internal" href="../ref/forms/fields.html#django.forms.SlugField.allow_unicode" title="django.forms.SlugField.allow_unicode"><tt class="xref py py-attr docutils literal"><span class="pre">allow_unicode</span></tt></a> argument to allow Unicode
characters in slugs.</li>
<li><a class="reference internal" href="../ref/forms/fields.html#django.forms.CharField" title="django.forms.CharField"><tt class="xref py py-class docutils literal"><span class="pre">CharField</span></tt></a> now accepts a
<a class="reference internal" href="../ref/forms/fields.html#django.forms.CharField.strip" title="django.forms.CharField.strip"><tt class="xref py py-attr docutils literal"><span class="pre">strip</span></tt></a> argument to strip input data of leading
and trailing whitespace.  As this defaults to <tt class="docutils literal"><span class="pre">True</span></tt> this is different
behavior from previous releases.</li>
<li>Form fields now support the <a class="reference internal" href="../ref/forms/fields.html#django.forms.Field.disabled" title="django.forms.Field.disabled"><tt class="xref py py-attr docutils literal"><span class="pre">disabled</span></tt></a> argument,
allowing the field widget to be displayed disabled by browsers.</li>
<li>It&#8217;s now possible to customize bound fields by overriding a field&#8217;s
<a class="reference internal" href="../ref/forms/api.html#django.forms.Field.get_bound_field" title="django.forms.Field.get_bound_field"><tt class="xref py py-meth docutils literal"><span class="pre">get_bound_field()</span></tt></a> method.</li>
</ul>
</div>
<div class="section" id="s-generic-views">
<span id="generic-views"></span><h4>Generic Views<a class="headerlink" href="#generic-views" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Class-based views generated using <tt class="docutils literal"><span class="pre">as_view()</span></tt> now have <tt class="docutils literal"><span class="pre">view_class</span></tt>
and <tt class="docutils literal"><span class="pre">view_initkwargs</span></tt> attributes.</li>
<li><a class="reference internal" href="../ref/utils.html#django.utils.decorators.method_decorator" title="django.utils.decorators.method_decorator"><tt class="xref py py-func docutils literal"><span class="pre">method_decorator()</span></tt></a> can now be used with a list
or tuple of decorators. It can also be used to <a class="reference internal" href="../topics/class-based-views/intro.html#id1"><em>decorate classes instead
of methods</em></a>.</li>
</ul>
</div>
<div class="section" id="s-internationalization">
<span id="internationalization"></span><h4>Internationalization<a class="headerlink" href="#internationalization" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The <a class="reference internal" href="../topics/i18n/translation.html#django.views.i18n.set_language" title="django.views.i18n.set_language"><tt class="xref py py-func docutils literal"><span class="pre">django.views.i18n.set_language()</span></tt></a> view now properly redirects to
<a class="reference internal" href="../topics/i18n/translation.html#url-internationalization"><em>translated URLs</em></a>, when available.</li>
<li>The <a class="reference internal" href="../topics/i18n/translation.html#django.views.i18n.javascript_catalog" title="django.views.i18n.javascript_catalog"><tt class="xref py py-func docutils literal"><span class="pre">django.views.i18n.javascript_catalog()</span></tt></a> view now works correctly
if used multiple times with different configurations on the same page.</li>
<li>The <a class="reference internal" href="../ref/utils.html#django.utils.timezone.make_aware" title="django.utils.timezone.make_aware"><tt class="xref py py-func docutils literal"><span class="pre">django.utils.timezone.make_aware()</span></tt></a> function gained an <tt class="docutils literal"><span class="pre">is_dst</span></tt>
argument to help resolve ambiguous times during DST transitions.</li>
<li>You can now use locale variants supported by gettext. These are usually used
for languages which can be written in different scripts, for example Latin
and Cyrillic (e.g. <tt class="docutils literal"><span class="pre">be&#64;latin</span></tt>).</li>
<li>Added the <a class="reference internal" href="../topics/i18n/translation.html#django.views.i18n.json_catalog" title="django.views.i18n.json_catalog"><tt class="xref py py-func docutils literal"><span class="pre">django.views.i18n.json_catalog()</span></tt></a> view to help build a custom
client-side i18n library upon Django translations. It returns a JSON object
containing a translations catalog, formatting settings, and a plural rule.</li>
<li>Added the <tt class="docutils literal"><span class="pre">name_translated</span></tt> attribute to the object returned by the
<a class="reference internal" href="../topics/i18n/translation.html#std:templatetag-get_language_info"><tt class="xref std std-ttag docutils literal"><span class="pre">get_language_info</span></tt></a> template tag. Also added a corresponding template
filter: <a class="reference internal" href="../topics/i18n/translation.html#std:templatefilter-language_name_translated"><tt class="xref std std-tfilter docutils literal"><span class="pre">language_name_translated</span></tt></a>.</li>
<li>You can now run <a class="reference internal" href="../ref/django-admin.html#django-admin-compilemessages"><tt class="xref std std-djadmin docutils literal"><span class="pre">compilemessages</span></tt></a> from the root directory of your
project and it will find all the app message files that were created by
<a class="reference internal" href="../ref/django-admin.html#django-admin-makemessages"><tt class="xref std std-djadmin docutils literal"><span class="pre">makemessages</span></tt></a>.</li>
<li><a class="reference internal" href="../ref/django-admin.html#django-admin-makemessages"><tt class="xref std std-djadmin docutils literal"><span class="pre">makemessages</span></tt></a> now calls xgettext once per locale directory rather
than once per translatable file. This speeds up localization builds.</li>
<li><a class="reference internal" href="../topics/i18n/translation.html#std:templatetag-blocktrans"><tt class="xref std std-ttag docutils literal"><span class="pre">blocktrans</span></tt></a> supports assigning its output to a variable using
<tt class="docutils literal"><span class="pre">asvar</span></tt>.</li>
<li>Two new languages are available: Colombian Spanish and Scottish Gaelic.</li>
</ul>
</div>
<div class="section" id="s-management-commands">
<span id="management-commands"></span><h4>Management Commands<a class="headerlink" href="#management-commands" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>The new <a class="reference internal" href="../ref/django-admin.html#django-admin-sendtestemail"><tt class="xref std std-djadmin docutils literal"><span class="pre">sendtestemail</span></tt></a> command lets you send a test email to
easily confirm that email sending through Django is working.</li>
<li>To increase the readability of the SQL code generated by
<a class="reference internal" href="../ref/django-admin.html#django-admin-sqlmigrate"><tt class="xref std std-djadmin docutils literal"><span class="pre">sqlmigrate</span></tt></a>, the SQL code generated for each migration operation is
preceded by the operation&#8217;s description.</li>
<li>The <a class="reference internal" href="../ref/django-admin.html#django-admin-dumpdata"><tt class="xref std std-djadmin docutils literal"><span class="pre">dumpdata</span></tt></a> command output is now deterministically ordered.
Moreover, when the <tt class="docutils literal"><span class="pre">--output</span></tt> option is specified, it also shows a progress
bar in the terminal.</li>
<li>The <a class="reference internal" href="../ref/django-admin.html#django-admin-createcachetable"><tt class="xref std std-djadmin docutils literal"><span class="pre">createcachetable</span></tt></a> command now has a <tt class="docutils literal"><span class="pre">--dry-run</span></tt> flag to
print out the SQL rather than execute it.</li>
<li>The <a class="reference internal" href="../ref/django-admin.html#django-admin-startapp"><tt class="xref std std-djadmin docutils literal"><span class="pre">startapp</span></tt></a> command creates an <tt class="docutils literal"><span class="pre">apps.py</span></tt> file. Since it doesn&#8217;t
use <tt class="docutils literal"><span class="pre">default_app_config</span></tt> (<a class="reference internal" href="../ref/applications.html#configuring-applications-ref"><em>a discouraged API</em></a>), you must specify the app config&#8217;s path,
e.g. <tt class="docutils literal"><span class="pre">'polls.apps.PollsConfig'</span></tt>, in <a class="reference internal" href="../ref/settings.html#std:setting-INSTALLED_APPS"><tt class="xref std std-setting docutils literal"><span class="pre">INSTALLED_APPS</span></tt></a> for it to be
used (instead of just <tt class="docutils literal"><span class="pre">'polls'</span></tt>).</li>
<li>When using the PostgreSQL backend, the <a class="reference internal" href="../ref/django-admin.html#django-admin-dbshell"><tt class="xref std std-djadmin docutils literal"><span class="pre">dbshell</span></tt></a> command can connect
to the database using the password from your settings file (instead of
requiring it to be manually entered).</li>
<li>The <tt class="docutils literal"><span class="pre">django</span></tt> package may be run as a script, i.e. <tt class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">django</span></tt>,
which will behave the same as <tt class="docutils literal"><span class="pre">django-admin</span></tt>.</li>
<li>Management commands that have the <tt class="docutils literal"><span class="pre">--noinput</span></tt> option now also take
<tt class="docutils literal"><span class="pre">--no-input</span></tt> as an alias for that option.</li>
</ul>
</div>
<div class="section" id="s-migrations">
<span id="migrations"></span><h4>Migrations<a class="headerlink" href="#migrations" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Initial migrations are now marked with an <a class="reference internal" href="../topics/migrations.html#django.db.migrations.Migration.initial" title="django.db.migrations.Migration.initial"><tt class="xref py py-attr docutils literal"><span class="pre">initial</span> <span class="pre">=</span> <span class="pre">True</span></tt></a> class attribute which allows
<a class="reference internal" href="../ref/django-admin.html#django-admin-option---fake-initial"><tt class="xref std std-djadminopt docutils literal"><span class="pre">migrate</span> <span class="pre">--fake-initial</span></tt></a> to more easily detect
initial migrations.</p>
</li>
<li><p class="first">Added support for serialization of <tt class="docutils literal"><span class="pre">functools.partial</span></tt> and <tt class="docutils literal"><span class="pre">LazyObject</span></tt>
instances.</p>
</li>
<li><p class="first">When supplying <tt class="docutils literal"><span class="pre">None</span></tt> as a value in <a class="reference internal" href="../ref/settings.html#std:setting-MIGRATION_MODULES"><tt class="xref std std-setting docutils literal"><span class="pre">MIGRATION_MODULES</span></tt></a>, Django
will consider the app an app without migrations.</p>
</li>
<li><p class="first">When applying migrations, the &#8220;Rendering model states&#8221; step that&#8217;s displayed
when running migrate with verbosity 2 or higher now computes only the states
for the migrations that have already been applied. The model states for
migrations being applied are generated on demand, drastically reducing the
amount of required memory.</p>
<p>However, this improvement is not available when unapplying migrations and
therefore still requires the precomputation and storage of the intermediate
migration states.</p>
<p>This improvement also requires that Django no longer supports mixed migration
plans. Mixed plans consist of a list of migrations where some are being
applied and others are being unapplied. This was never officially supported
and never had a public API that supports this behavior.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../ref/django-admin.html#django-admin-squashmigrations"><tt class="xref std std-djadmin docutils literal"><span class="pre">squashmigrations</span></tt></a> command now supports specifying the starting
migration from which migrations will be squashed.</p>
</li>
</ul>
</div>
<div class="section" id="s-models">
<span id="models"></span><h4>Models<a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.bulk_create" title="django.db.models.query.QuerySet.bulk_create"><tt class="xref py py-meth docutils literal"><span class="pre">QuerySet.bulk_create()</span></tt></a>
now works on proxy models.</li>
<li>Database configuration gained a <a class="reference internal" href="../ref/settings.html#std:setting-DATABASE-TIME_ZONE"><tt class="xref std std-setting docutils literal"><span class="pre">TIME_ZONE</span></tt></a>
option for interacting with databases that store datetimes in local time and
don&#8217;t support time zones when <a class="reference internal" href="../ref/settings.html#std:setting-USE_TZ"><tt class="xref std std-setting docutils literal"><span class="pre">USE_TZ</span></tt></a> is <tt class="docutils literal"><span class="pre">True</span></tt>.</li>
<li>Added the <a class="reference internal" href="../ref/models/relations.html#django.db.models.fields.related.RelatedManager.set" title="django.db.models.fields.related.RelatedManager.set"><tt class="xref py py-meth docutils literal"><span class="pre">RelatedManager.set()</span></tt></a> method to the related
managers created by <tt class="docutils literal"><span class="pre">ForeignKey</span></tt>, <tt class="docutils literal"><span class="pre">GenericForeignKey</span></tt>, and
<tt class="docutils literal"><span class="pre">ManyToManyField</span></tt>.</li>
<li>The <a class="reference internal" href="../ref/models/relations.html#django.db.models.fields.related.RelatedManager.add" title="django.db.models.fields.related.RelatedManager.add"><tt class="xref py py-meth docutils literal"><span class="pre">add()</span></tt></a> method on
a reverse foreign key now has a <tt class="docutils literal"><span class="pre">bulk</span></tt> parameter to allow executing one
query regardless of the number of objects being added rather than one query
per object.</li>
<li>Added the <tt class="docutils literal"><span class="pre">keep_parents</span></tt> parameter to <a class="reference internal" href="../ref/models/instances.html#django.db.models.Model.delete" title="django.db.models.Model.delete"><tt class="xref py py-meth docutils literal"><span class="pre">Model.delete()</span></tt></a> to allow deleting only a child&#8217;s data in a
model that uses multi-table inheritance.</li>
<li><a class="reference internal" href="../ref/models/instances.html#django.db.models.Model.delete" title="django.db.models.Model.delete"><tt class="xref py py-meth docutils literal"><span class="pre">Model.delete()</span></tt></a>
and <a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.delete" title="django.db.models.query.QuerySet.delete"><tt class="xref py py-meth docutils literal"><span class="pre">QuerySet.delete()</span></tt></a> return
the number of objects deleted.</li>
<li>Added a system check to prevent defining both <tt class="docutils literal"><span class="pre">Meta.ordering</span></tt> and
<tt class="docutils literal"><span class="pre">order_with_respect_to</span></tt> on the same model.</li>
<li><a class="reference internal" href="../ref/models/querysets.html#std:fieldlookup-year"><tt class="xref std std-lookup docutils literal"><span class="pre">Date</span> <span class="pre">and</span> <span class="pre">time</span></tt></a> lookups can be chained with other lookups
(such as <a class="reference internal" href="../ref/models/querysets.html#std:fieldlookup-exact"><tt class="xref std std-lookup docutils literal"><span class="pre">exact</span></tt></a>, <a class="reference internal" href="../ref/models/querysets.html#std:fieldlookup-gt"><tt class="xref std std-lookup docutils literal"><span class="pre">gt</span></tt></a>, <a class="reference internal" href="../ref/models/querysets.html#std:fieldlookup-lt"><tt class="xref std std-lookup docutils literal"><span class="pre">lt</span></tt></a>, etc.). For example:
<tt class="docutils literal"><span class="pre">Entry.objects.filter(pub_date__month__gt=6)</span></tt>.</li>
<li>Time lookups (hour, minute, second) are now supported by
<a class="reference internal" href="../ref/models/fields.html#django.db.models.TimeField" title="django.db.models.TimeField"><tt class="xref py py-class docutils literal"><span class="pre">TimeField</span></tt></a> for all database backends. Support for
backends other than SQLite was added but undocumented in Django 1.7.</li>
<li>You can specify the <tt class="docutils literal"><span class="pre">output_field</span></tt> parameter of the
<a class="reference internal" href="../ref/models/querysets.html#django.db.models.Avg" title="django.db.models.Avg"><tt class="xref py py-class docutils literal"><span class="pre">Avg</span></tt></a> aggregate in order to aggregate over
non-numeric columns, such as <tt class="docutils literal"><span class="pre">DurationField</span></tt>.</li>
<li>Added the <a class="reference internal" href="../ref/models/querysets.html#std:fieldlookup-date"><tt class="xref std std-lookup docutils literal"><span class="pre">date</span></tt></a> lookup to <a class="reference internal" href="../ref/models/fields.html#django.db.models.DateTimeField" title="django.db.models.DateTimeField"><tt class="xref py py-class docutils literal"><span class="pre">DateTimeField</span></tt></a>
to allow querying the field by only the date portion.</li>
<li>Added the <a class="reference internal" href="../ref/models/database-functions.html#django.db.models.functions.Greatest" title="django.db.models.functions.Greatest"><tt class="xref py py-class docutils literal"><span class="pre">Greatest</span></tt></a> and
<a class="reference internal" href="../ref/models/database-functions.html#django.db.models.functions.Least" title="django.db.models.functions.Least"><tt class="xref py py-class docutils literal"><span class="pre">Least</span></tt></a> database functions.</li>
<li>Added the <a class="reference internal" href="../ref/models/database-functions.html#django.db.models.functions.Now" title="django.db.models.functions.Now"><tt class="xref py py-class docutils literal"><span class="pre">Now</span></tt></a> database function, which
returns the current date and time.</li>
<li><a class="reference internal" href="../ref/models/lookups.html#django.db.models.Transform" title="django.db.models.Transform"><tt class="xref py py-class docutils literal"><span class="pre">Transform</span></tt></a> is now a subclass of
<a class="reference internal" href="../ref/models/expressions.html#func-expressions"><em>Func()</em></a> which allows <tt class="docutils literal"><span class="pre">Transform</span></tt>s to be used on
the right hand side of an expression, just like regular <tt class="docutils literal"><span class="pre">Func</span></tt>s. This
allows registering some database functions like
<a class="reference internal" href="../ref/models/database-functions.html#django.db.models.functions.Length" title="django.db.models.functions.Length"><tt class="xref py py-class docutils literal"><span class="pre">Length</span></tt></a>,
<a class="reference internal" href="../ref/models/database-functions.html#django.db.models.functions.Lower" title="django.db.models.functions.Lower"><tt class="xref py py-class docutils literal"><span class="pre">Lower</span></tt></a>, and
<a class="reference internal" href="../ref/models/database-functions.html#django.db.models.functions.Upper" title="django.db.models.functions.Upper"><tt class="xref py py-class docutils literal"><span class="pre">Upper</span></tt></a> as transforms.</li>
<li><a class="reference internal" href="../ref/models/fields.html#django.db.models.SlugField" title="django.db.models.SlugField"><tt class="xref py py-class docutils literal"><span class="pre">SlugField</span></tt></a> now accepts an
<a class="reference internal" href="../ref/models/fields.html#django.db.models.SlugField.allow_unicode" title="django.db.models.SlugField.allow_unicode"><tt class="xref py py-attr docutils literal"><span class="pre">allow_unicode</span></tt></a> argument to allow Unicode
characters in slugs.</li>
<li>Added support for referencing annotations in <tt class="docutils literal"><span class="pre">QuerySet.distinct()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">connection.queries</span></tt> shows queries with substituted parameters on SQLite.</li>
<li><a class="reference internal" href="../ref/models/expressions.html"><em>Query expressions</em></a> can now be used when
creating new model instances using <tt class="docutils literal"><span class="pre">save()</span></tt>, <tt class="docutils literal"><span class="pre">create()</span></tt>, and
<tt class="docutils literal"><span class="pre">bulk_create()</span></tt>.</li>
</ul>
</div>
<div class="section" id="s-requests-and-responses">
<span id="requests-and-responses"></span><h4>Requests and Responses<a class="headerlink" href="#requests-and-responses" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Unless <a class="reference internal" href="../ref/request-response.html#django.http.HttpResponse.reason_phrase" title="django.http.HttpResponse.reason_phrase"><tt class="xref py py-attr docutils literal"><span class="pre">HttpResponse.reason_phrase</span></tt></a> is explicitly set, it now is
determined by the current value of <a class="reference internal" href="../ref/request-response.html#django.http.HttpResponse.status_code" title="django.http.HttpResponse.status_code"><tt class="xref py py-attr docutils literal"><span class="pre">HttpResponse.status_code</span></tt></a>. Modifying the value of
<tt class="docutils literal"><span class="pre">status_code</span></tt> outside of the constructor will also modify the value of
<tt class="docutils literal"><span class="pre">reason_phrase</span></tt>.</li>
<li>The debug view now shows details of chained exceptions on Python 3.</li>
<li>The default 40x error views now accept a second positional parameter, the
exception that triggered the view.</li>
<li>View error handlers now support
<a class="reference internal" href="../ref/template-response.html#django.template.response.TemplateResponse" title="django.template.response.TemplateResponse"><tt class="xref py py-class docutils literal"><span class="pre">TemplateResponse</span></tt></a>, commonly used with
class-based views.</li>
<li>Exceptions raised by the <tt class="docutils literal"><span class="pre">render()</span></tt> method are now passed to the
<tt class="docutils literal"><span class="pre">process_exception()</span></tt> method of each middleware.</li>
<li>Request middleware can now set <a class="reference internal" href="../ref/request-response.html#django.http.HttpRequest.urlconf" title="django.http.HttpRequest.urlconf"><tt class="xref py py-attr docutils literal"><span class="pre">HttpRequest.urlconf</span></tt></a> to <tt class="docutils literal"><span class="pre">None</span></tt> to revert any changes made
by previous middleware and return to using the <a class="reference internal" href="../ref/settings.html#std:setting-ROOT_URLCONF"><tt class="xref std std-setting docutils literal"><span class="pre">ROOT_URLCONF</span></tt></a>.</li>
<li>The <a class="reference internal" href="../ref/settings.html#std:setting-DISALLOWED_USER_AGENTS"><tt class="xref std std-setting docutils literal"><span class="pre">DISALLOWED_USER_AGENTS</span></tt></a> check in
<a class="reference internal" href="../ref/middleware.html#django.middleware.common.CommonMiddleware" title="django.middleware.common.CommonMiddleware"><tt class="xref py py-class docutils literal"><span class="pre">CommonMiddleware</span></tt></a> now raises a
<a class="reference internal" href="../ref/exceptions.html#django.core.exceptions.PermissionDenied" title="django.core.exceptions.PermissionDenied"><tt class="xref py py-class docutils literal"><span class="pre">PermissionDenied</span></tt></a> exception as opposed to
returning an <a class="reference internal" href="../ref/request-response.html#django.http.HttpResponseForbidden" title="django.http.HttpResponseForbidden"><tt class="xref py py-class docutils literal"><span class="pre">HttpResponseForbidden</span></tt></a> so that
<a class="reference internal" href="../ref/urls.html#django.conf.urls.handler403" title="django.conf.urls.handler403"><tt class="xref py py-data docutils literal"><span class="pre">handler403</span></tt></a> is invoked.</li>
<li>Added <a class="reference internal" href="../ref/request-response.html#django.http.HttpRequest.get_port" title="django.http.HttpRequest.get_port"><tt class="xref py py-meth docutils literal"><span class="pre">HttpRequest.get_port()</span></tt></a> to
fetch the originating port of the request.</li>
<li>Added the <tt class="docutils literal"><span class="pre">json_dumps_params</span></tt> parameter to
<a class="reference internal" href="../ref/request-response.html#django.http.JsonResponse" title="django.http.JsonResponse"><tt class="xref py py-class docutils literal"><span class="pre">JsonResponse</span></tt></a> to allow passing keyword arguments to the
<tt class="docutils literal"><span class="pre">json.dumps()</span></tt> call used to generate the response.</li>
<li>The <a class="reference internal" href="../ref/middleware.html#django.middleware.common.BrokenLinkEmailsMiddleware" title="django.middleware.common.BrokenLinkEmailsMiddleware"><tt class="xref py py-class docutils literal"><span class="pre">BrokenLinkEmailsMiddleware</span></tt></a> now
ignores 404s when the referer is equal to the requested URL. To circumvent
the empty referer check already implemented, some Web bots set the referer to
the requested URL.</li>
</ul>
</div>
<div class="section" id="s-templates">
<span id="templates"></span><h4>Templates<a class="headerlink" href="#templates" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Template tags created with the <a class="reference internal" href="../howto/custom-template-tags.html#django.template.Library.simple_tag" title="django.template.Library.simple_tag"><tt class="xref py py-meth docutils literal"><span class="pre">simple_tag()</span></tt></a>
helper can now store results in a template variable by using the <tt class="docutils literal"><span class="pre">as</span></tt>
argument.</li>
<li>Added a <a class="reference internal" href="../ref/templates/api.html#django.template.Context.setdefault" title="django.template.Context.setdefault"><tt class="xref py py-meth docutils literal"><span class="pre">Context.setdefault()</span></tt></a>
method.</li>
<li>The <a class="reference internal" href="../topics/logging.html#django-template-logger"><em>django.template</em></a> logger was added and
includes the following messages:<ul>
<li>A <tt class="docutils literal"><span class="pre">DEBUG</span></tt> level message for missing context variables.</li>
<li>A <tt class="docutils literal"><span class="pre">WARNING</span></tt> level message for uncaught exceptions raised
during the rendering of an <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">include</span> <span class="pre">%}</span></tt> when debug mode is off
(helpful since <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">include</span> <span class="pre">%}</span></tt> silences the exception and returns an
empty string).</li>
</ul>
</li>
<li>The <a class="reference internal" href="../ref/templates/builtins.html#std:templatetag-firstof"><tt class="xref std std-ttag docutils literal"><span class="pre">firstof</span></tt></a> template tag supports storing the output in a variable
using &#8216;as&#8217;.</li>
<li><a class="reference internal" href="../ref/templates/api.html#django.template.Context.update" title="django.template.Context.update"><tt class="xref py py-meth docutils literal"><span class="pre">Context.update()</span></tt></a> can now be used as
a context manager.</li>
<li>Django template loaders can now extend templates recursively.</li>
<li>The debug page template postmortem now include output from each engine that
is installed.</li>
<li><a class="reference internal" href="../topics/templates.html#template-debug-integration"><em>Debug page integration</em></a> for custom
template engines was added.</li>
<li>The <a class="reference internal" href="../topics/templates.html#django.template.backends.django.DjangoTemplates" title="django.template.backends.django.DjangoTemplates"><tt class="xref py py-class docutils literal"><span class="pre">DjangoTemplates</span></tt></a> backend gained
the ability to register libraries and builtins explicitly through the
template <a class="reference internal" href="../ref/settings.html#std:setting-TEMPLATES-OPTIONS"><tt class="xref std std-setting docutils literal"><span class="pre">OPTIONS</span></tt></a>.</li>
<li>The <tt class="docutils literal"><span class="pre">timesince</span></tt> and <tt class="docutils literal"><span class="pre">timeuntil</span></tt> filters were improved to deal with leap
years when given large time spans.</li>
<li>The <tt class="docutils literal"><span class="pre">include</span></tt> tag now caches parsed templates objects during template
rendering, speeding up reuse in places such as for loops.</li>
</ul>
</div>
<div class="section" id="s-tests">
<span id="tests"></span><h4>Tests<a class="headerlink" href="#tests" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added the <a class="reference internal" href="../topics/testing/tools.html#django.test.Response.json" title="django.test.Response.json"><tt class="xref py py-meth docutils literal"><span class="pre">json()</span></tt></a> method to test client
responses to give access to the response body as JSON.</li>
<li>Added the <a class="reference internal" href="../topics/testing/tools.html#django.test.Client.force_login" title="django.test.Client.force_login"><tt class="xref py py-meth docutils literal"><span class="pre">force_login()</span></tt></a> method to the test
client. Use this method to simulate the effect of a user logging into the
site while skipping the authentication and verification steps of
<a class="reference internal" href="../topics/testing/tools.html#django.test.Client.login" title="django.test.Client.login"><tt class="xref py py-meth docutils literal"><span class="pre">login()</span></tt></a>.</li>
</ul>
</div>
<div class="section" id="s-urls">
<span id="urls"></span><h4>URLs<a class="headerlink" href="#urls" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Regular expression lookaround assertions are now allowed in URL patterns.</li>
<li>The application namespace can now be set using an <tt class="docutils literal"><span class="pre">app_name</span></tt> attribute
on the included module or object. It can also be set by passing a 2-tuple
of (&lt;list of patterns&gt;, &lt;application namespace&gt;) as the first argument to
<a class="reference internal" href="../ref/urls.html#django.conf.urls.include" title="django.conf.urls.include"><tt class="xref py py-func docutils literal"><span class="pre">include()</span></tt></a>.</li>
<li>System checks have been added for common URL pattern mistakes.</li>
</ul>
</div>
<div class="section" id="s-validators">
<span id="validators"></span><h4>Validators<a class="headerlink" href="#validators" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Added <a class="reference internal" href="../ref/validators.html#django.core.validators.int_list_validator" title="django.core.validators.int_list_validator"><tt class="xref py py-func docutils literal"><span class="pre">django.core.validators.int_list_validator()</span></tt></a> to generate
validators of strings containing integers separated with a custom character.</li>
<li><a class="reference internal" href="../ref/validators.html#django.core.validators.EmailValidator" title="django.core.validators.EmailValidator"><tt class="xref py py-class docutils literal"><span class="pre">EmailValidator</span></tt></a> now limits the length of
domain name labels to 63 characters per <span class="target" id="index-0"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc1034.html"><strong>RFC 1034</strong></a>.</li>
<li>Added <a class="reference internal" href="../ref/validators.html#django.core.validators.validate_unicode_slug" title="django.core.validators.validate_unicode_slug"><tt class="xref py py-func docutils literal"><span class="pre">validate_unicode_slug()</span></tt></a> to validate slugs
that may contain Unicode characters.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="s-backwards-incompatible-changes-in-1-9">
<span id="backwards-incompatible-changes-in-1-9"></span><h2>Backwards incompatible changes in 1.9<a class="headerlink" href="#backwards-incompatible-changes-in-1-9" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In addition to the changes outlined in this section, be sure to review the
<a class="reference internal" href="#removed-features-1-9"><em>Features removed in 1.9</em></a> for the features that have reached the end of
their deprecation cycle and therefore been removed. If you haven&#8217;t updated
your code within the deprecation timeline for a given feature, its removal
may appear as a backwards incompatible change.</p>
</div>
<div class="section" id="s-database-backend-api">
<span id="database-backend-api"></span><h3>Database backend API<a class="headerlink" href="#database-backend-api" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">A couple of new tests rely on the ability of the backend to introspect column
defaults (returning the result as <tt class="docutils literal"><span class="pre">Field.default</span></tt>). You can set the
<tt class="docutils literal"><span class="pre">can_introspect_default</span></tt> database feature to <tt class="docutils literal"><span class="pre">False</span></tt> if your backend
doesn&#8217;t implement this. You may want to review the implementation on the
backends that Django includes for reference (<a class="reference external" href="https://code.djangoproject.com/ticket/24245">#24245</a>).</p>
</li>
<li><p class="first">Registering a global adapter or converter at the level of the DB-API module
to handle time zone information of <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.5)"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> values passed
as query parameters or returned as query results on databases that don&#8217;t
support time zones is discouraged. It can conflict with other libraries.</p>
<p>The recommended way to add a time zone to <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.5)"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> values
fetched from the database is to register a converter for <tt class="docutils literal"><span class="pre">DateTimeField</span></tt>
in <tt class="docutils literal"><span class="pre">DatabaseOperations.get_db_converters()</span></tt>.</p>
<p>The <tt class="docutils literal"><span class="pre">needs_datetime_string_cast</span></tt> database feature was removed. Database
backends that set it must register a converter instead, as explained above.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">DatabaseOperations.value_to_db_&lt;type&gt;()</span></tt> methods were renamed to
<tt class="docutils literal"><span class="pre">adapt_&lt;type&gt;field_value()</span></tt> to mirror the <tt class="docutils literal"><span class="pre">convert_&lt;type&gt;field_value()</span></tt>
methods.</p>
</li>
<li><p class="first">To use the new <tt class="docutils literal"><span class="pre">date</span></tt> lookup, third-party database backends may need to
implement the <tt class="docutils literal"><span class="pre">DatabaseOperations.datetime_cast_date_sql()</span></tt> method.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">DatabaseOperations.time_extract_sql()</span></tt> method was added. It calls the
existing <tt class="docutils literal"><span class="pre">date_extract_sql()</span></tt> method. This method is overridden by the
SQLite backend to add time lookups (hour, minute, second) to
<a class="reference internal" href="../ref/models/fields.html#django.db.models.TimeField" title="django.db.models.TimeField"><tt class="xref py py-class docutils literal"><span class="pre">TimeField</span></tt></a>, and may be needed by third-party
database backends.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">DatabaseOperations.datetime_cast_sql()</span></tt> method (not to be confused
with <tt class="docutils literal"><span class="pre">DatabaseOperations.datetime_cast_date_sql()</span></tt> mentioned above)
has been removed. This method served to format dates on Oracle long
before 1.0, but hasn&#8217;t been overridden by any core backend in years
and hasn&#8217;t been called anywhere in Django&#8217;s code or tests.</p>
</li>
<li><p class="first">In order to support test parallelization, you must implement the
<tt class="docutils literal"><span class="pre">DatabaseCreation._clone_test_db()</span></tt> method and set
<tt class="docutils literal"><span class="pre">DatabaseFeatures.can_clone_databases</span> <span class="pre">=</span> <span class="pre">True</span></tt>. You may have to adjust
<tt class="docutils literal"><span class="pre">DatabaseCreation.get_test_db_clone_settings()</span></tt>.</p>
</li>
</ul>
</div>
<div class="section" id="s-default-settings-that-were-tuples-are-now-lists">
<span id="default-settings-that-were-tuples-are-now-lists"></span><h3>Default settings that were tuples are now lists<a class="headerlink" href="#default-settings-that-were-tuples-are-now-lists" title="Permalink to this headline">¶</a></h3>
<p>The default settings in <tt class="docutils literal"><span class="pre">django.conf.global_settings</span></tt> were a combination of
lists and tuples. All settings that were formerly tuples are now lists.</p>
</div>
<div class="section" id="s-is-usable-attribute-on-template-loaders-is-removed">
<span id="is-usable-attribute-on-template-loaders-is-removed"></span><h3><tt class="docutils literal"><span class="pre">is_usable</span></tt> attribute on template loaders is removed<a class="headerlink" href="#is-usable-attribute-on-template-loaders-is-removed" title="Permalink to this headline">¶</a></h3>
<p>Django template loaders previously required an <tt class="docutils literal"><span class="pre">is_usable</span></tt> attribute to be
defined. If a loader was configured in the template settings and this attribute
was <tt class="docutils literal"><span class="pre">False</span></tt>, the loader would be silently ignored. In practice, this was only
used by the egg loader to detect if setuptools was installed. The <tt class="docutils literal"><span class="pre">is_usable</span></tt>
attribute is now removed and the egg loader instead fails at runtime if
setuptools is not installed.</p>
</div>
<div class="section" id="s-related-set-direct-assignment">
<span id="related-set-direct-assignment"></span><h3>Related set direct assignment<a class="headerlink" href="#related-set-direct-assignment" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../ref/models/relations.html#direct-assignment"><em>Direct assignment</em></a> of related objects in the ORM used
to perform a <tt class="docutils literal"><span class="pre">clear()</span></tt> followed by a call to <tt class="docutils literal"><span class="pre">add()</span></tt>. This caused
needlessly large data changes and prevented using the
<a class="reference internal" href="../ref/signals.html#django.db.models.signals.m2m_changed" title="django.db.models.signals.m2m_changed"><tt class="xref py py-data docutils literal"><span class="pre">m2m_changed</span></tt></a> signal to track individual
changes in many-to-many relations.</p>
<p>Direct assignment now relies on the the new
<a class="reference internal" href="../ref/models/relations.html#django.db.models.fields.related.RelatedManager.set" title="django.db.models.fields.related.RelatedManager.set"><tt class="xref py py-meth docutils literal"><span class="pre">set()</span></tt></a> method on related
managers which by default only processes changes between the existing related
set and the one that&#8217;s newly assigned. The previous behavior can be restored by
replacing direct assignment by a call to <tt class="docutils literal"><span class="pre">set()</span></tt> with the keyword argument
<tt class="docutils literal"><span class="pre">clear=True</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">ModelForm</span></tt>, and therefore <tt class="docutils literal"><span class="pre">ModelAdmin</span></tt>, internally rely on direct
assignment for many-to-many relations and as a consequence now use the new
behavior.</p>
</div>
<div class="section" id="s-filesystem-based-template-loaders-catch-more-specific-exceptions">
<span id="filesystem-based-template-loaders-catch-more-specific-exceptions"></span><h3>Filesystem-based template loaders catch more specific exceptions<a class="headerlink" href="#filesystem-based-template-loaders-catch-more-specific-exceptions" title="Permalink to this headline">¶</a></h3>
<p>When using the <a class="reference internal" href="../ref/templates/api.html#django.template.loaders.filesystem.Loader" title="django.template.loaders.filesystem.Loader"><tt class="xref py py-class docutils literal"><span class="pre">filesystem.Loader</span></tt></a>
or <a class="reference internal" href="../ref/templates/api.html#django.template.loaders.app_directories.Loader" title="django.template.loaders.app_directories.Loader"><tt class="xref py py-class docutils literal"><span class="pre">app_directories.Loader</span></tt></a>
template loaders, earlier versions of Django raised a
<a class="reference internal" href="../topics/templates.html#django.template.TemplateDoesNotExist" title="django.template.TemplateDoesNotExist"><tt class="xref py py-exc docutils literal"><span class="pre">TemplateDoesNotExist</span></tt></a> error if a template source existed
but was unreadable. This could happen under many circumstances, such as if
Django didn&#8217;t have permissions to open the file, or if the template source was
a directory. Now, Django only silences the exception if the template source
does not exist. All other situations result in the original <tt class="docutils literal"><span class="pre">IOError</span></tt> being
raised.</p>
</div>
<div class="section" id="s-http-redirects-no-longer-forced-to-absolute-uris">
<span id="http-redirects-no-longer-forced-to-absolute-uris"></span><h3>HTTP redirects no longer forced to absolute URIs<a class="headerlink" href="#http-redirects-no-longer-forced-to-absolute-uris" title="Permalink to this headline">¶</a></h3>
<p>Relative redirects are no longer converted to absolute URIs. <span class="target" id="index-1"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc2616.html"><strong>RFC 2616</strong></a>
required the <tt class="docutils literal"><span class="pre">Location</span></tt> header in redirect responses to be an absolute URI,
but it has been superseded by <span class="target" id="index-2"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc7231.html"><strong>RFC 7231</strong></a> which allows relative URIs in
<tt class="docutils literal"><span class="pre">Location</span></tt>, recognizing the actual practice of user agents, almost all of
which support them.</p>
<p>Consequently, the expected URLs passed to <tt class="docutils literal"><span class="pre">assertRedirects</span></tt> should generally
no longer include the scheme and domain part of the URLs. For example,
<tt class="docutils literal"><span class="pre">self.assertRedirects(response,</span> <span class="pre">'http://testserver/some-url/')</span></tt> should be
replaced by <tt class="docutils literal"><span class="pre">self.assertRedirects(response,</span> <span class="pre">'/some-url/')</span></tt> (unless the
redirection specifically contained an absolute URL, of course).</p>
</div>
<div class="section" id="s-dropped-support-for-postgresql-9-0">
<span id="dropped-support-for-postgresql-9-0"></span><h3>Dropped support for PostgreSQL 9.0<a class="headerlink" href="#dropped-support-for-postgresql-9-0" title="Permalink to this headline">¶</a></h3>
<p>Upstream support for PostgreSQL 9.0 ended in September 2015. As a consequence,
Django 1.9 sets 9.1 as the minimum PostgreSQL version it officially supports.</p>
</div>
<div class="section" id="s-dropped-support-for-oracle-11-1">
<span id="dropped-support-for-oracle-11-1"></span><h3>Dropped support for Oracle 11.1<a class="headerlink" href="#dropped-support-for-oracle-11-1" title="Permalink to this headline">¶</a></h3>
<p>Upstream support for Oracle 11.1 ended in August 2015. As a consequence, Django
1.9 sets 11.2 as the minimum Oracle version it officially supports.</p>
</div>
<div class="section" id="s-bulk-behavior-of-add-method-of-related-managers">
<span id="bulk-behavior-of-add-method-of-related-managers"></span><h3>Bulk behavior of <tt class="docutils literal"><span class="pre">add()</span></tt> method of related managers<a class="headerlink" href="#bulk-behavior-of-add-method-of-related-managers" title="Permalink to this headline">¶</a></h3>
<p>To improve performance, the <tt class="docutils literal"><span class="pre">add()</span></tt> methods of the related managers created
by <tt class="docutils literal"><span class="pre">ForeignKey</span></tt> and <tt class="docutils literal"><span class="pre">GenericForeignKey</span></tt> changed from a series of
<tt class="docutils literal"><span class="pre">Model.save()</span></tt> calls to a single <tt class="docutils literal"><span class="pre">QuerySet.update()</span></tt> call. The change means
that <tt class="docutils literal"><span class="pre">pre_save</span></tt> and <tt class="docutils literal"><span class="pre">post_save</span></tt> signals aren&#8217;t sent anymore. You can use
the <tt class="docutils literal"><span class="pre">bulk=False</span></tt> keyword argument to revert to the previous behavior.</p>
</div>
<div class="section" id="s-template-loaderorigin-and-stringorigin-are-removed">
<span id="template-loaderorigin-and-stringorigin-are-removed"></span><h3>Template <tt class="docutils literal"><span class="pre">LoaderOrigin</span></tt> and <tt class="docutils literal"><span class="pre">StringOrigin</span></tt> are removed<a class="headerlink" href="#template-loaderorigin-and-stringorigin-are-removed" title="Permalink to this headline">¶</a></h3>
<p>In previous versions of Django, when a template engine was initialized with
debug as <tt class="docutils literal"><span class="pre">True</span></tt>, an instance of <tt class="docutils literal"><span class="pre">django.template.loader.LoaderOrigin</span></tt> or
<tt class="docutils literal"><span class="pre">django.template.base.StringOrigin</span></tt> was set as the origin attribute on the
template object. These classes have been combined into
<a class="reference internal" href="../ref/templates/api.html#django.template.base.Origin" title="django.template.base.Origin"><tt class="xref py py-class docutils literal"><span class="pre">Origin</span></tt></a> and is now always set regardless of the
engine debug setting. For a minimal level of backwards compatibility, the old
class names will be kept as aliases to the new <tt class="docutils literal"><span class="pre">Origin</span></tt> class until
Django 2.0.</p>
</div>
<div class="section" id="s-changes-to-the-default-logging-configuration">
<span id="s-default-logging-changes-19"></span><span id="changes-to-the-default-logging-configuration"></span><span id="default-logging-changes-19"></span><h3>Changes to the default logging configuration<a class="headerlink" href="#changes-to-the-default-logging-configuration" title="Permalink to this headline">¶</a></h3>
<p>To make it easier to write custom logging configurations, Django&#8217;s default
logging configuration no longer defines &#8216;django.request&#8217; and &#8216;django.security&#8217;
loggers. Instead, it defines a single &#8216;django&#8217; logger, filtered at the <tt class="docutils literal"><span class="pre">INFO</span></tt>
level, with two handlers:</p>
<ul class="simple">
<li>&#8216;console&#8217;: filtered at the <tt class="docutils literal"><span class="pre">INFO</span></tt> level and only active if <tt class="docutils literal"><span class="pre">DEBUG=True</span></tt>.</li>
<li>&#8216;mail_admins&#8217;: filtered at the <tt class="docutils literal"><span class="pre">ERROR</span></tt> level and only active if
<tt class="docutils literal"><span class="pre">DEBUG=False</span></tt>.</li>
</ul>
<p>If you aren&#8217;t overriding Django&#8217;s default logging, you should see minimal
changes in behavior, but you might see some new logging to the <tt class="docutils literal"><span class="pre">runserver</span></tt>
console, for example.</p>
<p>If you are overriding Django&#8217;s default logging, you should check to see how
your configuration merges with the new defaults.</p>
</div>
<div class="section" id="s-httprequest-details-in-error-reporting">
<span id="httprequest-details-in-error-reporting"></span><h3><tt class="docutils literal"><span class="pre">HttpRequest</span></tt> details in error reporting<a class="headerlink" href="#httprequest-details-in-error-reporting" title="Permalink to this headline">¶</a></h3>
<p>It was redundant to display the full details of the
<a class="reference internal" href="../ref/request-response.html#django.http.HttpRequest" title="django.http.HttpRequest"><tt class="xref py py-class docutils literal"><span class="pre">HttpRequest</span></tt></a> each time it appeared as a stack frame
variable in the HTML version of the debug page and error email. Thus, the HTTP
request will now display the same standard representation as other variables
(<tt class="docutils literal"><span class="pre">repr(request)</span></tt>). As a result, the
<tt class="docutils literal"><span class="pre">ExceptionReporterFilter.get_request_repr()</span></tt> method and the undocumented
<tt class="docutils literal"><span class="pre">django.http.build_request_repr()</span></tt> function were removed.</p>
<p>The contents of the text version of the email were modified to provide a
traceback of the same structure as in the case of AJAX requests. The traceback
details are rendered by the <tt class="docutils literal"><span class="pre">ExceptionReporter.get_traceback_text()</span></tt> method.</p>
</div>
<div class="section" id="s-removal-of-time-zone-aware-global-adapters-and-converters-for-datetimes">
<span id="removal-of-time-zone-aware-global-adapters-and-converters-for-datetimes"></span><h3>Removal of time zone aware global adapters and converters for datetimes<a class="headerlink" href="#removal-of-time-zone-aware-global-adapters-and-converters-for-datetimes" title="Permalink to this headline">¶</a></h3>
<p>Django no longer registers global adapters and converters for managing time
zone information on <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.5)"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> values sent to the database as
query parameters or read from the database in query results. This change
affects projects that meet all the following conditions:</p>
<ul class="simple">
<li>The <a class="reference internal" href="../ref/settings.html#std:setting-USE_TZ"><tt class="xref std std-setting docutils literal"><span class="pre">USE_TZ</span></tt></a> setting is <tt class="docutils literal"><span class="pre">True</span></tt>.</li>
<li>The database is SQLite, MySQL, Oracle, or a third-party database that
doesn&#8217;t support time zones. In doubt, you can check the value of
<tt class="docutils literal"><span class="pre">connection.features.supports_timezones</span></tt>.</li>
<li>The code queries the database outside of the ORM, typically with
<tt class="docutils literal"><span class="pre">cursor.execute(sql,</span> <span class="pre">params)</span></tt>.</li>
</ul>
<p>If you&#8217;re passing aware <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.5)"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> parameters to such
queries, you should turn them into naive datetimes in UTC:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.utils</span> <span class="kn">import</span> <span class="n">timezone</span>
<span class="n">param</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">make_naive</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
</pre></div>
</div>
<p>If you fail to do so, the conversion will be performed as in earlier versions
(with a deprecation warning) up until Django 1.11. Django 2.0 won&#8217;t perform any
conversion, which may result in data corruption.</p>
<p>If you&#8217;re reading <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.5)"><tt class="xref py py-class docutils literal"><span class="pre">datetime</span></tt></a> values from the results, they
will be naive instead of aware. You can compensate as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.utils</span> <span class="kn">import</span> <span class="n">timezone</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">make_aware</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
</pre></div>
</div>
<p>You don&#8217;t need any of this if you&#8217;re querying the database through the ORM,
even if you&#8217;re using <a class="reference internal" href="../ref/models/querysets.html#django.db.models.query.QuerySet.raw" title="django.db.models.query.QuerySet.raw"><tt class="xref py py-meth docutils literal"><span class="pre">raw()</span></tt></a>
queries. The ORM takes care of managing time zone information.</p>
</div>
<div class="section" id="s-template-tag-modules-are-imported-when-templates-are-configured">
<span id="template-tag-modules-are-imported-when-templates-are-configured"></span><h3>Template tag modules are imported when templates are configured<a class="headerlink" href="#template-tag-modules-are-imported-when-templates-are-configured" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../topics/templates.html#django.template.backends.django.DjangoTemplates" title="django.template.backends.django.DjangoTemplates"><tt class="xref py py-class docutils literal"><span class="pre">DjangoTemplates</span></tt></a> backend now
performs discovery on installed template tag modules when instantiated. This
update enables libraries to be provided explicitly via the <tt class="docutils literal"><span class="pre">'libraries'</span></tt>
key of <a class="reference internal" href="../ref/settings.html#std:setting-TEMPLATES-OPTIONS"><tt class="xref std std-setting docutils literal"><span class="pre">OPTIONS</span></tt></a> when defining a
<a class="reference internal" href="../topics/templates.html#django.template.backends.django.DjangoTemplates" title="django.template.backends.django.DjangoTemplates"><tt class="xref py py-class docutils literal"><span class="pre">DjangoTemplates</span></tt></a> backend. Import
or syntax errors in template tag modules now fail early at instantiation time
rather than when a template with a <a class="reference internal" href="../ref/templates/builtins.html#std:templatetag-load"><tt class="xref std std-ttag docutils literal"><span class="pre">{%</span> <span class="pre">load</span> <span class="pre">%}</span></tt></a> tag is first
compiled.</p>
</div>
<div class="section" id="s-django-template-base-add-to-builtins-is-removed">
<span id="django-template-base-add-to-builtins-is-removed"></span><h3><tt class="docutils literal"><span class="pre">django.template.base.add_to_builtins()</span></tt> is removed<a class="headerlink" href="#django-template-base-add-to-builtins-is-removed" title="Permalink to this headline">¶</a></h3>
<p>Although it was a private API, projects commonly used <tt class="docutils literal"><span class="pre">add_to_builtins()</span></tt> to
make template tags and filters available without using the
<a class="reference internal" href="../ref/templates/builtins.html#std:templatetag-load"><tt class="xref std std-ttag docutils literal"><span class="pre">{%</span> <span class="pre">load</span> <span class="pre">%}</span></tt></a> tag. This API has been formalized. Projects should now
define built-in libraries via the <tt class="docutils literal"><span class="pre">'builtins'</span></tt> key of <a class="reference internal" href="../ref/settings.html#std:setting-TEMPLATES-OPTIONS"><tt class="xref std std-setting docutils literal"><span class="pre">OPTIONS</span></tt></a> when defining a
<a class="reference internal" href="../topics/templates.html#django.template.backends.django.DjangoTemplates" title="django.template.backends.django.DjangoTemplates"><tt class="xref py py-class docutils literal"><span class="pre">DjangoTemplates</span></tt></a> backend.</p>
</div>
<div class="section" id="s-simple-tag-now-wraps-tag-output-in-conditional-escape">
<span id="s-simple-tag-conditional-escape-fix"></span><span id="simple-tag-now-wraps-tag-output-in-conditional-escape"></span><span id="simple-tag-conditional-escape-fix"></span><h3><tt class="docutils literal"><span class="pre">simple_tag</span></tt> now wraps tag output in <tt class="docutils literal"><span class="pre">conditional_escape</span></tt><a class="headerlink" href="#simple-tag-now-wraps-tag-output-in-conditional-escape" title="Permalink to this headline">¶</a></h3>
<p>In general, template tags do not autoescape their contents, and this behavior is
<a class="reference internal" href="../howto/custom-template-tags.html#tags-auto-escaping"><em>documented</em></a>. For tags like
<a class="reference internal" href="../howto/custom-template-tags.html#django.template.Library.inclusion_tag" title="django.template.Library.inclusion_tag"><tt class="xref py py-class docutils literal"><span class="pre">inclusion_tag</span></tt></a>, this is not a problem because
the included template will perform autoescaping. For
<a class="reference internal" href="../howto/custom-template-tags.html#django.template.Library.assignment_tag" title="django.template.Library.assignment_tag"><tt class="xref py py-class docutils literal"><span class="pre">assignment_tag</span></tt></a>, the output will be escaped
when it is used as a variable in the template.</p>
<p>For the intended use cases of <a class="reference internal" href="../howto/custom-template-tags.html#django.template.Library.simple_tag" title="django.template.Library.simple_tag"><tt class="xref py py-class docutils literal"><span class="pre">simple_tag</span></tt></a>,
however, it is very easy to end up with incorrect HTML and possibly an XSS
exploit. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@register.simple_tag</span><span class="p">(</span><span class="n">takes_context</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">greeting</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">&quot;Hello {0}!&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">context</span><span class="p">[</span><span class="s">&#39;request&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">first_name</span><span class="p">)</span>
</pre></div>
</div>
<p>In older versions of Django, this will be an XSS issue because
<tt class="docutils literal"><span class="pre">user.first_name</span></tt> is not escaped.</p>
<p>In Django 1.9, this is fixed: if the template context has <tt class="docutils literal"><span class="pre">autoescape=True</span></tt>
set (the default), then <tt class="docutils literal"><span class="pre">simple_tag</span></tt> will wrap the output of the tag function
with <a class="reference internal" href="../ref/utils.html#django.utils.html.conditional_escape" title="django.utils.html.conditional_escape"><tt class="xref py py-func docutils literal"><span class="pre">conditional_escape()</span></tt></a>.</p>
<p>To fix your <tt class="docutils literal"><span class="pre">simple_tag</span></tt>s, it is best to apply the following practices:</p>
<ul class="simple">
<li>Any code that generates HTML should use either the template system or
<a class="reference internal" href="../ref/utils.html#django.utils.html.format_html" title="django.utils.html.format_html"><tt class="xref py py-func docutils literal"><span class="pre">format_html()</span></tt></a>.</li>
<li>If the output of a <tt class="docutils literal"><span class="pre">simple_tag</span></tt> needs escaping, use
<a class="reference internal" href="../ref/utils.html#django.utils.html.escape" title="django.utils.html.escape"><tt class="xref py py-func docutils literal"><span class="pre">escape()</span></tt></a> or
<a class="reference internal" href="../ref/utils.html#django.utils.html.conditional_escape" title="django.utils.html.conditional_escape"><tt class="xref py py-func docutils literal"><span class="pre">conditional_escape()</span></tt></a>.</li>
<li>If you are absolutely certain that you are outputting HTML from a trusted
source (e.g. a CMS field that stores HTML entered by admins), you can mark it
as such using <a class="reference internal" href="../ref/utils.html#django.utils.safestring.mark_safe" title="django.utils.safestring.mark_safe"><tt class="xref py py-func docutils literal"><span class="pre">mark_safe()</span></tt></a>.</li>
</ul>
<p>Tags that follow these rules will be correct and safe whether they are run on
Django 1.9+ or earlier.</p>
</div>
<div class="section" id="s-paginator-page-range">
<span id="paginator-page-range"></span><h3><tt class="docutils literal"><span class="pre">Paginator.page_range</span></tt><a class="headerlink" href="#paginator-page-range" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../topics/pagination.html#django.core.paginator.Paginator.page_range" title="django.core.paginator.Paginator.page_range"><tt class="xref py py-attr docutils literal"><span class="pre">Paginator.page_range</span></tt></a> is
now an iterator instead of a list.</p>
<p>In versions of Django previous to 1.8, <tt class="docutils literal"><span class="pre">Paginator.page_range</span></tt> returned a
<tt class="docutils literal"><span class="pre">list</span></tt> in Python 2 and a <tt class="docutils literal"><span class="pre">range</span></tt> in Python 3. Django 1.8 consistently
returned a list, but an iterator is more efficient.</p>
<p>Existing code that depends on <tt class="docutils literal"><span class="pre">list</span></tt> specific features, such as indexing,
can be ported by converting the iterator into a <tt class="docutils literal"><span class="pre">list</span></tt> using <tt class="docutils literal"><span class="pre">list()</span></tt>.</p>
</div>
<div class="section" id="s-implicit-queryset-in-lookup-removed">
<span id="implicit-queryset-in-lookup-removed"></span><h3>Implicit <tt class="docutils literal"><span class="pre">QuerySet</span></tt> <tt class="docutils literal"><span class="pre">__in</span></tt> lookup removed<a class="headerlink" href="#implicit-queryset-in-lookup-removed" title="Permalink to this headline">¶</a></h3>
<p>In earlier versions, queries such as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Model</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">related_id</span><span class="o">=</span><span class="n">RelatedModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
</pre></div>
</div>
<p>would implicitly convert to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Model</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">related_id__in</span><span class="o">=</span><span class="n">RelatedModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>
</pre></div>
</div>
<p>resulting in SQL like <tt class="docutils literal"><span class="pre">&quot;related_id</span> <span class="pre">IN</span> <span class="pre">(SELECT</span> <span class="pre">id</span> <span class="pre">FROM</span> <span class="pre">...)&quot;</span></tt>.</p>
<p>This implicit <tt class="docutils literal"><span class="pre">__in</span></tt> no longer happens so the &#8220;IN&#8221; SQL is now &#8220;=&#8221;, and if the
subquery returns multiple results, at least some databases will throw an error.</p>
</div>
<div class="section" id="s-contrib-admin-browser-support">
<span id="s-admin-browser-support-19"></span><span id="contrib-admin-browser-support"></span><span id="admin-browser-support-19"></span><h3><tt class="docutils literal"><span class="pre">contrib.admin</span></tt> browser support<a class="headerlink" href="#contrib-admin-browser-support" title="Permalink to this headline">¶</a></h3>
<p>The admin no longer supports Internet Explorer 8 and below, as these browsers
have reached end-of-life.</p>
<p>CSS and images to support Internet Explorer 6 and 7 have been removed. PNG and
GIF icons have been replaced with SVG icons, which are not supported by
Internet Explorer 8 and earlier.</p>
<p>The jQuery library embedded in the admin has been upgraded from version 1.11.2
to 2.1.4. jQuery 2.x has the same API as jQuery 1.x, but does not support
Internet Explorer 6, 7, or 8, allowing for better performance and a smaller
file size. If you need to support IE8 and must also use the latest version of
Django, you can override the admin&#8217;s copy of jQuery with your own by creating
a Django application with this structure:</p>
<div class="highlight-python"><div class="highlight"><pre>app/static/admin/js/vendor/
    jquery.js
    jquery.min.js
</pre></div>
</div>
</div>
<div class="section" id="s-syntaxerror-when-installing-django-setuptools-5-5-x">
<span id="s-syntax-error-old-setuptools-django-19"></span><span id="syntaxerror-when-installing-django-setuptools-5-5-x"></span><span id="syntax-error-old-setuptools-django-19"></span><h3><tt class="docutils literal"><span class="pre">SyntaxError</span></tt> when installing Django setuptools 5.5.x<a class="headerlink" href="#syntaxerror-when-installing-django-setuptools-5-5-x" title="Permalink to this headline">¶</a></h3>
<p>When installing Django 1.9+ with setuptools 5.5.x, you&#8217;ll see:</p>
<div class="highlight-python"><div class="highlight"><pre>Compiling django/conf/app_template/apps.py ...
  File &quot;django/conf/app_template/apps.py&quot;, line 4
    class {{ camel_case_app_name }}Config(AppConfig):
          ^
SyntaxError: invalid syntax

Compiling django/conf/app_template/models.py ...
  File &quot;django/conf/app_template/models.py&quot;, line 1
    {{ unicode_literals }}from django.db import models
                             ^
SyntaxError: invalid syntax
</pre></div>
</div>
<p>It&#8217;s safe to ignore these errors (Django will still install just fine), but you
can avoid them by upgrading setuptools to a more recent version. If you&#8217;re
using pip, you can upgrade pip using <tt class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-U</span> <span class="pre">pip</span></tt> which will also
upgrade setuptools.</p>
</div>
<div class="section" id="s-miscellaneous">
<span id="miscellaneous"></span><h3>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The jQuery static files in <tt class="docutils literal"><span class="pre">contrib.admin</span></tt> have been moved into a
<tt class="docutils literal"><span class="pre">vendor/jquery</span></tt> subdirectory.</li>
<li>The text displayed for null columns in the admin changelist <tt class="docutils literal"><span class="pre">list_display</span></tt>
cells has changed from <tt class="docutils literal"><span class="pre">(None)</span></tt> (or its translated equivalent) to <tt class="docutils literal"><span class="pre">-</span></tt> (a
dash).</li>
<li><tt class="docutils literal"><span class="pre">django.http.responses.REASON_PHRASES</span></tt> and
<tt class="docutils literal"><span class="pre">django.core.handlers.wsgi.STATUS_CODE_TEXT</span></tt> have been removed. Use
Python&#8217;s stdlib instead: <a class="reference external" href="https://docs.python.org/3/library/http.client.html#http.client.responses" title="(in Python v3.5)"><tt class="xref py py-data docutils literal"><span class="pre">http.client.responses</span></tt></a> for Python 3 and
<a class="reference external" href="https://docs.python.org/2/library/httplib.html#httplib.responses">httplib.responses</a> for Python 2.</li>
<li><tt class="docutils literal"><span class="pre">ValuesQuerySet</span></tt> and <tt class="docutils literal"><span class="pre">ValuesListQuerySet</span></tt> have been removed.</li>
<li>The <tt class="docutils literal"><span class="pre">admin/base.html</span></tt> template no longer sets
<tt class="docutils literal"><span class="pre">window.__admin_media_prefix__</span></tt> or <tt class="docutils literal"><span class="pre">window.__admin_utc_offset__</span></tt>. Image
references in JavaScript that used that value to construct absolute URLs have
been moved to CSS for easier customization. The UTC offset is stored on a
data attribute of the <tt class="docutils literal"><span class="pre">&lt;body&gt;</span></tt> tag.</li>
<li><tt class="docutils literal"><span class="pre">CommaSeparatedIntegerField</span></tt> validation has been refined to forbid values
like <tt class="docutils literal"><span class="pre">','</span></tt>, <tt class="docutils literal"><span class="pre">',1'</span></tt>, and <tt class="docutils literal"><span class="pre">'1,,2'</span></tt>.</li>
<li>Form initialization was moved from the <a class="reference internal" href="../ref/class-based-views/mixins-editing.html#django.views.generic.edit.ProcessFormView.get" title="django.views.generic.edit.ProcessFormView.get"><tt class="xref py py-meth docutils literal"><span class="pre">ProcessFormView.get()</span></tt></a> method to the new
<a class="reference internal" href="../ref/class-based-views/mixins-editing.html#django.views.generic.edit.FormMixin.get_context_data" title="django.views.generic.edit.FormMixin.get_context_data"><tt class="xref py py-meth docutils literal"><span class="pre">FormMixin.get_context_data()</span></tt></a> method. This may be
backwards incompatible if you have overridden the <tt class="docutils literal"><span class="pre">get_context_data()</span></tt>
method without calling <tt class="docutils literal"><span class="pre">super()</span></tt>.</li>
<li>Support for PostGIS 1.5 has been dropped.</li>
<li>The <tt class="docutils literal"><span class="pre">django.contrib.sites.models.Site.domain</span></tt> field was changed to be
<a class="reference internal" href="../ref/models/fields.html#django.db.models.Field.unique" title="django.db.models.Field.unique"><tt class="xref py py-attr docutils literal"><span class="pre">unique</span></tt></a>.</li>
<li>In order to enforce test isolation, database queries are not allowed
by default in <a class="reference internal" href="../topics/testing/tools.html#django.test.SimpleTestCase" title="django.test.SimpleTestCase"><tt class="xref py py-class docutils literal"><span class="pre">SimpleTestCase</span></tt></a> tests anymore. You
can disable this behavior by setting the
<a class="reference internal" href="../topics/testing/tools.html#django.test.SimpleTestCase.allow_database_queries" title="django.test.SimpleTestCase.allow_database_queries"><tt class="xref py py-attr docutils literal"><span class="pre">allow_database_queries</span></tt></a> class attribute
to <tt class="docutils literal"><span class="pre">True</span></tt> on your test class.</li>
<li><a class="reference internal" href="../ref/urlresolvers.html#django.core.urlresolvers.ResolverMatch.app_name" title="django.core.urlresolvers.ResolverMatch.app_name"><tt class="xref py py-attr docutils literal"><span class="pre">ResolverMatch.app_name</span></tt></a> was changed to contain
the full namespace path in the case of nested namespaces. For consistency
with <a class="reference internal" href="../ref/urlresolvers.html#django.core.urlresolvers.ResolverMatch.namespace" title="django.core.urlresolvers.ResolverMatch.namespace"><tt class="xref py py-attr docutils literal"><span class="pre">ResolverMatch.namespace</span></tt></a>, the empty value is now
an empty string instead of <tt class="docutils literal"><span class="pre">None</span></tt>.</li>
<li>For security hardening, session keys must be at least 8 characters.</li>
<li>Private function <tt class="docutils literal"><span class="pre">django.utils.functional.total_ordering()</span></tt> has been
removed. It contained a workaround for a <tt class="docutils literal"><span class="pre">functools.total_ordering()</span></tt> bug
in Python versions older than 2.7.3.</li>
<li>XML serialization (either through <a class="reference internal" href="../ref/django-admin.html#django-admin-dumpdata"><tt class="xref std std-djadmin docutils literal"><span class="pre">dumpdata</span></tt></a> or the syndication
framework) used to output any characters it received. Now if the content to
be serialized contains any control characters not allowed in the XML 1.0
standard, the serialization will fail with a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.5)"><tt class="xref py py-exc docutils literal"><span class="pre">ValueError</span></tt></a>.</li>
<li><a class="reference internal" href="../ref/forms/fields.html#django.forms.CharField" title="django.forms.CharField"><tt class="xref py py-class docutils literal"><span class="pre">CharField</span></tt></a> now strips input of leading and trailing
whitespace by default. This can be disabled by setting the new
<a class="reference internal" href="../ref/forms/fields.html#django.forms.CharField.strip" title="django.forms.CharField.strip"><tt class="xref py py-attr docutils literal"><span class="pre">strip</span></tt></a> argument to <tt class="docutils literal"><span class="pre">False</span></tt>.</li>
<li>Template text that is translated and uses two or more consecutive percent
signs, e.g. <tt class="docutils literal"><span class="pre">&quot;%%&quot;</span></tt>, may have a new <cite>msgid</cite> after <tt class="docutils literal"><span class="pre">makemessages</span></tt> is run
(most likely the translation will be marked fuzzy). The new <tt class="docutils literal"><span class="pre">msgid</span></tt> will be
marked <tt class="docutils literal"><span class="pre">&quot;#,</span> <span class="pre">python-format&quot;</span></tt>.</li>
<li>If neither <a class="reference internal" href="../ref/request-response.html#django.http.HttpRequest.current_app" title="django.http.HttpRequest.current_app"><tt class="xref py py-attr docutils literal"><span class="pre">request.current_app</span></tt></a>
nor <a class="reference internal" href="../ref/templates/api.html#django.template.Context" title="django.template.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context.current_app</span></tt></a> are set, the
<a class="reference internal" href="../ref/templates/builtins.html#std:templatetag-url"><tt class="xref std std-ttag docutils literal"><span class="pre">url</span></tt></a> template tag will now use the namespace of the current request.
Set <tt class="docutils literal"><span class="pre">request.current_app</span></tt> to <tt class="docutils literal"><span class="pre">None</span></tt> if you don&#8217;t want to use a namespace
hint.</li>
<li>The <a class="reference internal" href="../ref/settings.html#std:setting-SILENCED_SYSTEM_CHECKS"><tt class="xref std std-setting docutils literal"><span class="pre">SILENCED_SYSTEM_CHECKS</span></tt></a> setting now silences messages of all
levels. Previously, messages of <tt class="docutils literal"><span class="pre">ERROR</span></tt> level or higher were printed to the
console.</li>
<li>The <tt class="docutils literal"><span class="pre">FlatPage.enable_comments</span></tt> field is removed from the <tt class="docutils literal"><span class="pre">FlatPageAdmin</span></tt>
as it&#8217;s unused by the application. If your project or a third-party app makes
use of it, <a class="reference internal" href="../ref/contrib/flatpages.html#flatpages-admin"><em>create a custom ModelAdmin</em></a> to add it back.</li>
<li>The return value of
<a class="reference internal" href="../topics/testing/advanced.html#django.test.runner.DiscoverRunner.setup_databases" title="django.test.runner.DiscoverRunner.setup_databases"><tt class="xref py py-meth docutils literal"><span class="pre">setup_databases()</span></tt></a> and the first
argument of <a class="reference internal" href="../topics/testing/advanced.html#django.test.runner.DiscoverRunner.teardown_databases" title="django.test.runner.DiscoverRunner.teardown_databases"><tt class="xref py py-meth docutils literal"><span class="pre">teardown_databases()</span></tt></a>
changed. They used to be <tt class="docutils literal"><span class="pre">(old_names,</span> <span class="pre">mirrors)</span></tt> tuples. Now they&#8217;re just
the first item, <tt class="docutils literal"><span class="pre">old_names</span></tt>.</li>
<li>By default <a class="reference internal" href="../topics/testing/tools.html#django.test.LiveServerTestCase" title="django.test.LiveServerTestCase"><tt class="xref py py-class docutils literal"><span class="pre">LiveServerTestCase</span></tt></a> attempts to find an
available port in the 8081-8179 range instead of just trying port 8081.</li>
<li>The system checks for <a class="reference internal" href="../ref/contrib/admin/index.html#django.contrib.admin.ModelAdmin" title="django.contrib.admin.ModelAdmin"><tt class="xref py py-class docutils literal"><span class="pre">ModelAdmin</span></tt></a> now check
instances rather than classes.</li>
<li>The private API to apply mixed migration plans has been dropped for
performance reasons. Mixed plans consist of a list of migrations where some
are being applied and others are being unapplied.</li>
<li>The related model object descriptor classes in
<tt class="docutils literal"><span class="pre">django.db.models.fields.related</span></tt> (private API) are moved from the
<tt class="docutils literal"><span class="pre">related</span></tt> module to <tt class="docutils literal"><span class="pre">related_descriptors</span></tt> and renamed as follows:<ul>
<li><tt class="docutils literal"><span class="pre">ReverseSingleRelatedObjectDescriptor</span></tt> is <tt class="docutils literal"><span class="pre">ForwardManyToOneDescriptor</span></tt></li>
<li><tt class="docutils literal"><span class="pre">SingleRelatedObjectDescriptor</span></tt> is <tt class="docutils literal"><span class="pre">ReverseOneToOneDescriptor</span></tt></li>
<li><tt class="docutils literal"><span class="pre">ForeignRelatedObjectsDescriptor</span></tt> is <tt class="docutils literal"><span class="pre">ReverseManyToOneDescriptor</span></tt></li>
<li><tt class="docutils literal"><span class="pre">ManyRelatedObjectsDescriptor</span></tt> is <tt class="docutils literal"><span class="pre">ManyToManyDescriptor</span></tt></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="s-features-deprecated-in-1-9">
<span id="s-deprecated-features-1-9"></span><span id="features-deprecated-in-1-9"></span><span id="deprecated-features-1-9"></span><h2>Features deprecated in 1.9<a class="headerlink" href="#features-deprecated-in-1-9" title="Permalink to this headline">¶</a></h2>
<div class="section" id="s-assignment-tag">
<span id="assignment-tag"></span><h3><tt class="docutils literal"><span class="pre">assignment_tag()</span></tt><a class="headerlink" href="#assignment-tag" title="Permalink to this headline">¶</a></h3>
<p>Django 1.4 added the <tt class="docutils literal"><span class="pre">assignment_tag</span></tt> helper to ease the creation of
template tags that store results in a template variable. The
<a class="reference internal" href="../howto/custom-template-tags.html#django.template.Library.simple_tag" title="django.template.Library.simple_tag"><tt class="xref py py-meth docutils literal"><span class="pre">simple_tag()</span></tt></a> helper has gained this same
ability, making the <tt class="docutils literal"><span class="pre">assignment_tag</span></tt> obsolete. Tags that use
<tt class="docutils literal"><span class="pre">assignment_tag</span></tt> should be updated to use <tt class="docutils literal"><span class="pre">simple_tag</span></tt>.</p>
</div>
<div class="section" id="s-cycle-syntax-with-comma-separated-arguments">
<span id="cycle-syntax-with-comma-separated-arguments"></span><h3><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">cycle</span> <span class="pre">%}</span></tt> syntax with comma-separated arguments<a class="headerlink" href="#cycle-syntax-with-comma-separated-arguments" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../ref/templates/builtins.html#std:templatetag-cycle"><tt class="xref std std-ttag docutils literal"><span class="pre">cycle</span></tt></a> tag supports an inferior old syntax from previous Django
versions:</p>
<div class="highlight-html+django"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">cycle</span> <span class="nv">row1</span><span class="o">,</span><span class="nv">row2</span><span class="o">,</span><span class="nv">row3</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Its parsing caused bugs with the current syntax, so support for the old syntax
will be removed in Django 1.10 following an accelerated deprecation.</p>
</div>
<div class="section" id="s-foreignkey-and-onetoonefield-on-delete-argument">
<span id="foreignkey-and-onetoonefield-on-delete-argument"></span><h3><tt class="docutils literal"><span class="pre">ForeignKey</span></tt> and <tt class="docutils literal"><span class="pre">OneToOneField</span></tt> <tt class="docutils literal"><span class="pre">on_delete</span></tt> argument<a class="headerlink" href="#foreignkey-and-onetoonefield-on-delete-argument" title="Permalink to this headline">¶</a></h3>
<p>In order to increase awareness about cascading model deletion, the
<tt class="docutils literal"><span class="pre">on_delete</span></tt> argument of <tt class="docutils literal"><span class="pre">ForeignKey</span></tt> and <tt class="docutils literal"><span class="pre">OneToOneField</span></tt> will be required
in Django 2.0.</p>
<p>Update models and existing migrations to explicitly set the argument. Since the
default is <tt class="docutils literal"><span class="pre">models.CASCADE</span></tt>, add <tt class="docutils literal"><span class="pre">on_delete=models.CASCADE</span></tt> to all
<tt class="docutils literal"><span class="pre">ForeignKey</span></tt> and <tt class="docutils literal"><span class="pre">OneToOneField</span></tt>s that don&#8217;t use a different option. You
can also pass it as the second positional argument if you don&#8217;t care about
compatibility with older versions of Django.</p>
</div>
<div class="section" id="s-field-rel-changes">
<span id="field-rel-changes"></span><h3><tt class="docutils literal"><span class="pre">Field.rel</span></tt> changes<a class="headerlink" href="#field-rel-changes" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">Field.rel</span></tt> and its methods and attributes have changed to match the related
fields API. The <tt class="docutils literal"><span class="pre">Field.rel</span></tt> attribute is renamed to <tt class="docutils literal"><span class="pre">remote_field</span></tt> and many
of its methods and attributes are either changed or renamed.</p>
<p>The aim of these changes is to provide a documented API for relation fields.</p>
</div>
<div class="section" id="s-geomanager-and-geoqueryset-custom-methods">
<span id="geomanager-and-geoqueryset-custom-methods"></span><h3><tt class="docutils literal"><span class="pre">GeoManager</span></tt> and <tt class="docutils literal"><span class="pre">GeoQuerySet</span></tt> custom methods<a class="headerlink" href="#geomanager-and-geoqueryset-custom-methods" title="Permalink to this headline">¶</a></h3>
<p>All custom <tt class="docutils literal"><span class="pre">GeoQuerySet</span></tt> methods (<tt class="docutils literal"><span class="pre">area()</span></tt>, <tt class="docutils literal"><span class="pre">distance()</span></tt>, <tt class="docutils literal"><span class="pre">gml()</span></tt>, ...)
have been replaced by equivalent geographic expressions in annotations (see in
new features). Hence the need to set a custom <tt class="docutils literal"><span class="pre">GeoManager</span></tt> to GIS-enabled
models is now obsolete. As soon as your code doesn&#8217;t call any of the deprecated
methods, you can simply remove the <tt class="docutils literal"><span class="pre">objects</span> <span class="pre">=</span> <span class="pre">GeoManager()</span></tt> lines from your
models.</p>
</div>
<div class="section" id="s-template-loader-apis-have-changed">
<span id="template-loader-apis-have-changed"></span><h3>Template loader APIs have changed<a class="headerlink" href="#template-loader-apis-have-changed" title="Permalink to this headline">¶</a></h3>
<p>Django template loaders have been updated to allow recursive template
extending. This change necessitated a new template loader API. The old
<tt class="docutils literal"><span class="pre">load_template()</span></tt> and <tt class="docutils literal"><span class="pre">load_template_sources()</span></tt> methods are now deprecated.
Details about the new API can be found <a class="reference internal" href="../ref/templates/api.html#custom-template-loaders"><em>in the template loader
documentation</em></a>.</p>
</div>
<div class="section" id="s-passing-a-3-tuple-or-an-app-name-to-include">
<span id="passing-a-3-tuple-or-an-app-name-to-include"></span><h3>Passing a 3-tuple or an <tt class="docutils literal"><span class="pre">app_name</span></tt> to <a class="reference internal" href="../ref/urls.html#django.conf.urls.include" title="django.conf.urls.include"><tt class="xref py py-func docutils literal"><span class="pre">include()</span></tt></a><a class="headerlink" href="#passing-a-3-tuple-or-an-app-name-to-include" title="Permalink to this headline">¶</a></h3>
<p>The instance namespace part of passing a tuple as an argument to <tt class="docutils literal"><span class="pre">include()</span></tt>
has been replaced by passing the <tt class="docutils literal"><span class="pre">namespace</span></tt> argument to <tt class="docutils literal"><span class="pre">include()</span></tt>. For
example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">polls_patterns</span> <span class="o">=</span> <span class="p">[</span>
     <span class="n">url</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
<span class="p">]</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^polls/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">((</span><span class="n">polls_patterns</span><span class="p">,</span> <span class="s">&#39;polls&#39;</span><span class="p">,</span> <span class="s">&#39;author-polls&#39;</span><span class="p">))),</span>
<span class="p">]</span>
</pre></div>
</div>
<p>becomes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">polls_patterns</span> <span class="o">=</span> <span class="p">([</span>
     <span class="n">url</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
<span class="p">],</span> <span class="s">&#39;polls&#39;</span><span class="p">)</span>  <span class="c"># &#39;polls&#39; is the app_name</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^polls/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="n">polls_patterns</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="s">&#39;author-polls&#39;</span><span class="p">)),</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">app_name</span></tt> argument to <tt class="docutils literal"><span class="pre">include()</span></tt> has been replaced by passing a
2-tuple (as above), or passing an object or module with an <tt class="docutils literal"><span class="pre">app_name</span></tt>
attribute (as below). If the <tt class="docutils literal"><span class="pre">app_name</span></tt> is set in this new way, the
<tt class="docutils literal"><span class="pre">namespace</span></tt> argument is no longer required. It will default to the value of
<tt class="docutils literal"><span class="pre">app_name</span></tt>. For example, the URL patterns in the tutorial are changed from:</p>
<div class="highlight-python"><div class="snippet-filename">mysite/urls.py</div>
<div class="highlight"><pre><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^polls/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">&#39;polls.urls&#39;</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="s">&quot;polls&quot;</span><span class="p">)),</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<p>to:</p>
<div class="highlight-python"><div class="snippet-filename">mysite/urls.py</div>
<div class="highlight"><pre><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^polls/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">&#39;polls.urls&#39;</span><span class="p">)),</span>  <span class="c"># &#39;namespace=&quot;polls&quot;&#39; removed</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="snippet-filename">polls/urls.py</div>
<div class="highlight"><pre><span class="n">app_name</span> <span class="o">=</span> <span class="s">&#39;polls&#39;</span>  <span class="c"># added</span>
<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<p>This change also means that the old way of including an <tt class="docutils literal"><span class="pre">AdminSite</span></tt> instance
is deprecated. Instead, pass <tt class="docutils literal"><span class="pre">admin.site.urls</span></tt> directly to
<a class="reference internal" href="../ref/urls.html#django.conf.urls.url" title="django.conf.urls.url"><tt class="xref py py-func docutils literal"><span class="pre">url()</span></tt></a>:</p>
<div class="highlight-python"><div class="snippet-filename">urls.py</div>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">url</span>
<span class="kn">from</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">url</span><span class="p">(</span><span class="s">r&#39;^admin/&#39;</span><span class="p">,</span> <span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">),</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="s-url-application-namespace-required-if-setting-an-instance-namespace">
<span id="url-application-namespace-required-if-setting-an-instance-namespace"></span><h3>URL application namespace required if setting an instance namespace<a class="headerlink" href="#url-application-namespace-required-if-setting-an-instance-namespace" title="Permalink to this headline">¶</a></h3>
<p>In the past, an instance namespace without an application namespace
would serve the same purpose as the application namespace, but it was
impossible to reverse the patterns if there was an application namespace
with the same name. Includes that specify an instance namespace require that
the included URLconf sets an application namespace.</p>
</div>
<div class="section" id="s-current-app-parameter-to-contrib-auth-views">
<span id="current-app-parameter-to-contrib-auth-views"></span><h3><tt class="docutils literal"><span class="pre">current_app</span></tt> parameter to <tt class="docutils literal"><span class="pre">contrib.auth</span></tt> views<a class="headerlink" href="#current-app-parameter-to-contrib-auth-views" title="Permalink to this headline">¶</a></h3>
<p>All views in <tt class="docutils literal"><span class="pre">django.contrib.auth.views</span></tt> have the following structure:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">view</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">current_app</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">...</span><span class="p">):</span>

    <span class="o">...</span>

    <span class="k">if</span> <span class="n">current_app</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">request</span><span class="o">.</span><span class="n">current_app</span> <span class="o">=</span> <span class="n">current_app</span>

    <span class="k">return</span> <span class="n">TemplateResponse</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">template_name</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
<p>As of Django 1.8, <tt class="docutils literal"><span class="pre">current_app</span></tt> is set on the <tt class="docutils literal"><span class="pre">request</span></tt> object. For
consistency, these views will require the caller to set <tt class="docutils literal"><span class="pre">current_app</span></tt> on the
<tt class="docutils literal"><span class="pre">request</span></tt> instead of passing it in a separate argument.</p>
</div>
<div class="section" id="s-django-contrib-gis-geoip">
<span id="django-contrib-gis-geoip"></span><h3><tt class="docutils literal"><span class="pre">django.contrib.gis.geoip</span></tt><a class="headerlink" href="#django-contrib-gis-geoip" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../ref/contrib/gis/geoip2.html#module-django.contrib.gis.geoip2" title="django.contrib.gis.geoip2: Python interface for MaxMind's GeoIP2 databases."><tt class="xref py py-mod docutils literal"><span class="pre">django.contrib.gis.geoip2</span></tt></a> module supersedes
<tt class="docutils literal"><span class="pre">django.contrib.gis.geoip</span></tt>. The new module provides a similar API except that
it doesn&#8217;t provide the legacy GeoIP-Python API compatibility methods.</p>
</div>
<div class="section" id="s-id1">
<span id="id1"></span><h3>Miscellaneous<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">weak</span></tt> argument to <tt class="docutils literal"><span class="pre">django.dispatch.signals.Signal.disconnect()</span></tt> has
been deprecated as it has no effect.</li>
<li>The <tt class="docutils literal"><span class="pre">check_aggregate_support()</span></tt> method of
<tt class="docutils literal"><span class="pre">django.db.backends.base.BaseDatabaseOperations</span></tt> has been deprecated and
will be removed in Django 2.0. The more general <tt class="docutils literal"><span class="pre">check_expression_support()</span></tt>
should be used instead.</li>
<li><tt class="docutils literal"><span class="pre">django.forms.extras</span></tt> is deprecated. You can find
<a class="reference internal" href="../ref/forms/widgets.html#django.forms.SelectDateWidget" title="django.forms.SelectDateWidget"><tt class="xref py py-class docutils literal"><span class="pre">SelectDateWidget</span></tt></a> in <tt class="docutils literal"><span class="pre">django.forms.widgets</span></tt>
(or simply <tt class="docutils literal"><span class="pre">django.forms</span></tt>) instead.</li>
<li>Private API <tt class="docutils literal"><span class="pre">django.db.models.fields.add_lazy_relation()</span></tt> is deprecated.</li>
<li>The <tt class="docutils literal"><span class="pre">django.contrib.auth.tests.utils.skipIfCustomUser()</span></tt> decorator is
deprecated. With the test discovery changes in Django 1.6, the tests for
<tt class="docutils literal"><span class="pre">django.contrib</span></tt> apps are no longer run as part of the user&#8217;s project.
Therefore, the <tt class="docutils literal"><span class="pre">&#64;skipIfCustomUser</span></tt> decorator is no longer needed to
decorate tests in <tt class="docutils literal"><span class="pre">django.contrib.auth</span></tt>.</li>
<li>If you customized some <a class="reference internal" href="../ref/views.html#error-views"><em>error handlers</em></a>, the view
signatures with only one request parameter are deprecated. The views should
now also accept a second <tt class="docutils literal"><span class="pre">exception</span></tt> positional parameter.</li>
<li>The <tt class="docutils literal"><span class="pre">django.utils.feedgenerator.Atom1Feed.mime_type</span></tt> and
<tt class="docutils literal"><span class="pre">django.utils.feedgenerator.RssFeed.mime_type</span></tt> attributes are deprecated in
favor of <tt class="docutils literal"><span class="pre">content_type</span></tt>.</li>
<li><a class="reference internal" href="../topics/signing.html#django.core.signing.Signer" title="django.core.signing.Signer"><tt class="xref py py-class docutils literal"><span class="pre">Signer</span></tt></a> now issues a warning if an invalid
separator is used. This will become an exception in Django 1.10.</li>
<li><tt class="docutils literal"><span class="pre">django.db.models.Field._get_val_from_obj()</span></tt> is deprecated in favor of
<tt class="docutils literal"><span class="pre">Field.value_from_object()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">django.template.loaders.eggs.Loader</span></tt> is deprecated as distributing
applications as eggs is not recommended.</li>
<li>The <tt class="docutils literal"><span class="pre">callable_obj</span></tt> keyword argument to
<tt class="docutils literal"><span class="pre">SimpleTestCase.assertRaisesMessage()</span></tt> is deprecated. Pass the callable as
a positional argument instead.</li>
<li>The <tt class="docutils literal"><span class="pre">allow_tags</span></tt> attribute on methods of <tt class="docutils literal"><span class="pre">ModelAdmin</span></tt> has been
deprecated. Use <a class="reference internal" href="../ref/utils.html#django.utils.html.format_html" title="django.utils.html.format_html"><tt class="xref py py-func docutils literal"><span class="pre">format_html()</span></tt></a>,
<a class="reference internal" href="../ref/utils.html#django.utils.html.format_html_join" title="django.utils.html.format_html_join"><tt class="xref py py-func docutils literal"><span class="pre">format_html_join()</span></tt></a>, or
<a class="reference internal" href="../ref/utils.html#django.utils.safestring.mark_safe" title="django.utils.safestring.mark_safe"><tt class="xref py py-func docutils literal"><span class="pre">mark_safe()</span></tt></a> when constructing the method&#8217;s
return value instead.</li>
<li>The <tt class="docutils literal"><span class="pre">enclosure</span></tt> keyword argument to <tt class="docutils literal"><span class="pre">SyndicationFeed.add_item()</span></tt> is
deprecated. Use the new <tt class="docutils literal"><span class="pre">enclosures</span></tt> argument which accepts a list of
<tt class="docutils literal"><span class="pre">Enclosure</span></tt> objects instead of a single one.</li>
<li>The <tt class="docutils literal"><span class="pre">django.template.loader.LoaderOrigin</span></tt> and
<tt class="docutils literal"><span class="pre">django.template.base.StringOrigin</span></tt> aliases for
<tt class="docutils literal"><span class="pre">django.template.base.Origin</span></tt> are deprecated.</li>
</ul>
</div>
</div>
<div class="section" id="s-features-removed-in-1-9">
<span id="s-removed-features-1-9"></span><span id="features-removed-in-1-9"></span><span id="removed-features-1-9"></span><h2>Features removed in 1.9<a class="headerlink" href="#features-removed-in-1-9" title="Permalink to this headline">¶</a></h2>
<p>These features have reached the end of their deprecation cycle and so have been
removed in Django 1.9 (please see the <a class="reference internal" href="../internals/deprecation.html#deprecation-removed-in-1-9"><em>deprecation timeline</em></a> for more details):</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">django.utils.dictconfig</span></tt> is removed.</li>
<li><tt class="docutils literal"><span class="pre">django.utils.importlib</span></tt> is removed.</li>
<li><tt class="docutils literal"><span class="pre">django.utils.tzinfo</span></tt> is removed.</li>
<li><tt class="docutils literal"><span class="pre">django.utils.unittest</span></tt> is removed.</li>
<li>The <tt class="docutils literal"><span class="pre">syncdb</span></tt> command is removed.</li>
<li><tt class="docutils literal"><span class="pre">django.db.models.signals.pre_syncdb</span></tt> and
<tt class="docutils literal"><span class="pre">django.db.models.signals.post_syncdb</span></tt> is removed.</li>
<li>Support for <tt class="docutils literal"><span class="pre">allow_syncdb</span></tt> on database routers is removed.</li>
<li>Automatic syncing of apps without migrations is removed. Migrations are
compulsory for all apps unless you pass the <a class="reference internal" href="../ref/django-admin.html#django-admin-option---run-syncdb"><tt class="xref std std-djadminopt docutils literal"><span class="pre">--run-syncdb</span></tt></a>
option to <tt class="docutils literal"><span class="pre">migrate</span></tt>.</li>
<li>The SQL management commands for apps without migrations, <tt class="docutils literal"><span class="pre">sql</span></tt>, <tt class="docutils literal"><span class="pre">sqlall</span></tt>,
<tt class="docutils literal"><span class="pre">sqlclear</span></tt>, <tt class="docutils literal"><span class="pre">sqldropindexes</span></tt>, and <tt class="docutils literal"><span class="pre">sqlindexes</span></tt>, are removed.</li>
<li>Support for automatic loading of <tt class="docutils literal"><span class="pre">initial_data</span></tt> fixtures and initial SQL
data is removed.</li>
<li>All models need to be defined inside an installed application or declare an
explicit <a class="reference internal" href="../ref/models/options.html#django.db.models.Options.app_label" title="django.db.models.Options.app_label"><tt class="xref py py-attr docutils literal"><span class="pre">app_label</span></tt></a>. Furthermore, it isn&#8217;t
possible to import them before their application is loaded. In particular, it
isn&#8217;t possible to import models inside the root package of an application.</li>
<li>The model and form <tt class="docutils literal"><span class="pre">IPAddressField</span></tt> is removed. A stub field remains for
compatibility with historical migrations.</li>
<li><tt class="docutils literal"><span class="pre">AppCommand.handle_app()</span></tt> is no longer supported.</li>
<li><tt class="docutils literal"><span class="pre">RequestSite</span></tt> and <tt class="docutils literal"><span class="pre">get_current_site()</span></tt> are no longer importable from
<tt class="docutils literal"><span class="pre">django.contrib.sites.models</span></tt>.</li>
<li>FastCGI support via the <tt class="docutils literal"><span class="pre">runfcgi</span></tt> management command is removed.</li>
<li><tt class="docutils literal"><span class="pre">django.utils.datastructures.SortedDict</span></tt> is removed.</li>
<li><tt class="docutils literal"><span class="pre">ModelAdmin.declared_fieldsets</span></tt> is removed.</li>
<li>The <tt class="docutils literal"><span class="pre">util</span></tt> modules that provided backwards compatibility are removed:<ul>
<li><tt class="docutils literal"><span class="pre">django.contrib.admin.util</span></tt></li>
<li><tt class="docutils literal"><span class="pre">django.contrib.gis.db.backends.util</span></tt></li>
<li><tt class="docutils literal"><span class="pre">django.db.backends.util</span></tt></li>
<li><tt class="docutils literal"><span class="pre">django.forms.util</span></tt></li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre">ModelAdmin.get_formsets</span></tt> is removed.</li>
<li>The backward compatible shims introduced to rename the
<tt class="docutils literal"><span class="pre">BaseMemcachedCache._get_memcache_timeout()</span></tt> method to
<tt class="docutils literal"><span class="pre">get_backend_timeout()</span></tt> is removed.</li>
<li>The <tt class="docutils literal"><span class="pre">--natural</span></tt> and <tt class="docutils literal"><span class="pre">-n</span></tt> options for <a class="reference internal" href="../ref/django-admin.html#django-admin-dumpdata"><tt class="xref std std-djadmin docutils literal"><span class="pre">dumpdata</span></tt></a> are removed.</li>
<li>The <tt class="docutils literal"><span class="pre">use_natural_keys</span></tt> argument for <tt class="docutils literal"><span class="pre">serializers.serialize()</span></tt> is removed.</li>
<li>Private API <tt class="docutils literal"><span class="pre">django.forms.forms.get_declared_fields()</span></tt> is removed.</li>
<li>The ability to use a <tt class="docutils literal"><span class="pre">SplitDateTimeWidget</span></tt> with <tt class="docutils literal"><span class="pre">DateTimeField</span></tt> is
removed.</li>
<li>The <tt class="docutils literal"><span class="pre">WSGIRequest.REQUEST</span></tt> property is removed.</li>
<li>The class <tt class="docutils literal"><span class="pre">django.utils.datastructures.MergeDict</span></tt> is removed.</li>
<li>The <tt class="docutils literal"><span class="pre">zh-cn</span></tt> and <tt class="docutils literal"><span class="pre">zh-tw</span></tt> language codes are removed.</li>
<li>The internal <tt class="docutils literal"><span class="pre">django.utils.functional.memoize()</span></tt> is removed.</li>
<li><tt class="docutils literal"><span class="pre">django.core.cache.get_cache</span></tt> is removed.</li>
<li><tt class="docutils literal"><span class="pre">django.db.models.loading</span></tt> is removed.</li>
<li>Passing callable arguments to querysets is no longer possible.</li>
<li><tt class="docutils literal"><span class="pre">BaseCommand.requires_model_validation</span></tt> is removed in favor of
<tt class="docutils literal"><span class="pre">requires_system_checks</span></tt>. Admin validators is replaced by admin checks.</li>
<li>The <tt class="docutils literal"><span class="pre">ModelAdmin.validator_class</span></tt> and <tt class="docutils literal"><span class="pre">default_validator_class</span></tt> attributes
are removed.</li>
<li><tt class="docutils literal"><span class="pre">ModelAdmin.validate()</span></tt> is removed.</li>
<li><tt class="docutils literal"><span class="pre">django.db.backends.DatabaseValidation.validate_field</span></tt> is removed in
favor of the <tt class="docutils literal"><span class="pre">check_field</span></tt> method.</li>
<li>The <tt class="docutils literal"><span class="pre">validate</span></tt> management command is removed.</li>
<li><tt class="docutils literal"><span class="pre">django.utils.module_loading.import_by_path</span></tt> is removed in favor of
<tt class="docutils literal"><span class="pre">django.utils.module_loading.import_string</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">ssi</span></tt> and <tt class="docutils literal"><span class="pre">url</span></tt> template tags are removed from the <tt class="docutils literal"><span class="pre">future</span></tt> template
tag library.</li>
<li><tt class="docutils literal"><span class="pre">django.utils.text.javascript_quote()</span></tt> is removed.</li>
<li>Database test settings as independent entries in the database settings,
prefixed by <tt class="docutils literal"><span class="pre">TEST_</span></tt>, are no longer supported.</li>
<li>The <cite>cache_choices</cite> option to <a class="reference internal" href="../ref/forms/fields.html#django.forms.ModelChoiceField" title="django.forms.ModelChoiceField"><tt class="xref py py-class docutils literal"><span class="pre">ModelChoiceField</span></tt></a> and
<a class="reference internal" href="../ref/forms/fields.html#django.forms.ModelMultipleChoiceField" title="django.forms.ModelMultipleChoiceField"><tt class="xref py py-class docutils literal"><span class="pre">ModelMultipleChoiceField</span></tt></a> is removed.</li>
<li>The default value of the
<a class="reference internal" href="../ref/class-based-views/base.html#django.views.generic.base.RedirectView.permanent" title="django.views.generic.base.RedirectView.permanent"><tt class="xref py py-attr docutils literal"><span class="pre">RedirectView.permanent</span></tt></a>
attribute has changed from <tt class="docutils literal"><span class="pre">True</span></tt> to <tt class="docutils literal"><span class="pre">False</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">django.contrib.sitemaps.FlatPageSitemap</span></tt> is removed in favor of
<tt class="docutils literal"><span class="pre">django.contrib.flatpages.sitemaps.FlatPageSitemap</span></tt>.</li>
<li>Private API <tt class="docutils literal"><span class="pre">django.test.utils.TestTemplateLoader</span></tt> is removed.</li>
<li>The <tt class="docutils literal"><span class="pre">django.contrib.contenttypes.generic</span></tt> module is removed.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Django 1.9 release notes</a><ul>
<li><a class="reference internal" href="#python-compatibility">Python compatibility</a></li>
<li><a class="reference internal" href="#what-s-new-in-django-1-9">What&#8217;s new in Django 1.9</a><ul>
<li><a class="reference internal" href="#performing-actions-after-a-transaction-commit">Performing actions after a transaction commit</a></li>
<li><a class="reference internal" href="#password-validation">Password validation</a></li>
<li><a class="reference internal" href="#permission-mixins-for-class-based-views">Permission mixins for class-based views</a></li>
<li><a class="reference internal" href="#new-styling-for-contrib-admin">New styling for <tt class="docutils literal"><span class="pre">contrib.admin</span></tt></a></li>
<li><a class="reference internal" href="#running-tests-in-parallel">Running tests in parallel</a></li>
<li><a class="reference internal" href="#minor-features">Minor features</a><ul>
<li><a class="reference internal" href="#django-contrib-admin"><tt class="docutils literal"><span class="pre">django.contrib.admin</span></tt></a></li>
<li><a class="reference internal" href="#django-contrib-admindocs"><tt class="docutils literal"><span class="pre">django.contrib.admindocs</span></tt></a></li>
<li><a class="reference internal" href="#django-contrib-auth"><tt class="docutils literal"><span class="pre">django.contrib.auth</span></tt></a></li>
<li><a class="reference internal" href="#django-contrib-contenttypes"><tt class="docutils literal"><span class="pre">django.contrib.contenttypes</span></tt></a></li>
<li><a class="reference internal" href="#django-contrib-gis"><tt class="docutils literal"><span class="pre">django.contrib.gis</span></tt></a></li>
<li><a class="reference internal" href="#django-contrib-postgres"><tt class="docutils literal"><span class="pre">django.contrib.postgres</span></tt></a></li>
<li><a class="reference internal" href="#django-contrib-sessions"><tt class="docutils literal"><span class="pre">django.contrib.sessions</span></tt></a></li>
<li><a class="reference internal" href="#django-contrib-sites"><tt class="docutils literal"><span class="pre">django.contrib.sites</span></tt></a></li>
<li><a class="reference internal" href="#django-contrib-syndication"><tt class="docutils literal"><span class="pre">django.contrib.syndication</span></tt></a></li>
<li><a class="reference internal" href="#cache">Cache</a></li>
<li><a class="reference internal" href="#csrf">CSRF</a></li>
<li><a class="reference internal" href="#database-backends">Database backends</a></li>
<li><a class="reference internal" href="#file-storage">File Storage</a></li>
<li><a class="reference internal" href="#forms">Forms</a></li>
<li><a class="reference internal" href="#generic-views">Generic Views</a></li>
<li><a class="reference internal" href="#internationalization">Internationalization</a></li>
<li><a class="reference internal" href="#management-commands">Management Commands</a></li>
<li><a class="reference internal" href="#migrations">Migrations</a></li>
<li><a class="reference internal" href="#models">Models</a></li>
<li><a class="reference internal" href="#requests-and-responses">Requests and Responses</a></li>
<li><a class="reference internal" href="#templates">Templates</a></li>
<li><a class="reference internal" href="#tests">Tests</a></li>
<li><a class="reference internal" href="#urls">URLs</a></li>
<li><a class="reference internal" href="#validators">Validators</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#backwards-incompatible-changes-in-1-9">Backwards incompatible changes in 1.9</a><ul>
<li><a class="reference internal" href="#database-backend-api">Database backend API</a></li>
<li><a class="reference internal" href="#default-settings-that-were-tuples-are-now-lists">Default settings that were tuples are now lists</a></li>
<li><a class="reference internal" href="#is-usable-attribute-on-template-loaders-is-removed"><tt class="docutils literal"><span class="pre">is_usable</span></tt> attribute on template loaders is removed</a></li>
<li><a class="reference internal" href="#related-set-direct-assignment">Related set direct assignment</a></li>
<li><a class="reference internal" href="#filesystem-based-template-loaders-catch-more-specific-exceptions">Filesystem-based template loaders catch more specific exceptions</a></li>
<li><a class="reference internal" href="#http-redirects-no-longer-forced-to-absolute-uris">HTTP redirects no longer forced to absolute URIs</a></li>
<li><a class="reference internal" href="#dropped-support-for-postgresql-9-0">Dropped support for PostgreSQL 9.0</a></li>
<li><a class="reference internal" href="#dropped-support-for-oracle-11-1">Dropped support for Oracle 11.1</a></li>
<li><a class="reference internal" href="#bulk-behavior-of-add-method-of-related-managers">Bulk behavior of <tt class="docutils literal"><span class="pre">add()</span></tt> method of related managers</a></li>
<li><a class="reference internal" href="#template-loaderorigin-and-stringorigin-are-removed">Template <tt class="docutils literal"><span class="pre">LoaderOrigin</span></tt> and <tt class="docutils literal"><span class="pre">StringOrigin</span></tt> are removed</a></li>
<li><a class="reference internal" href="#changes-to-the-default-logging-configuration">Changes to the default logging configuration</a></li>
<li><a class="reference internal" href="#httprequest-details-in-error-reporting"><tt class="docutils literal"><span class="pre">HttpRequest</span></tt> details in error reporting</a></li>
<li><a class="reference internal" href="#removal-of-time-zone-aware-global-adapters-and-converters-for-datetimes">Removal of time zone aware global adapters and converters for datetimes</a></li>
<li><a class="reference internal" href="#template-tag-modules-are-imported-when-templates-are-configured">Template tag modules are imported when templates are configured</a></li>
<li><a class="reference internal" href="#django-template-base-add-to-builtins-is-removed"><tt class="docutils literal"><span class="pre">django.template.base.add_to_builtins()</span></tt> is removed</a></li>
<li><a class="reference internal" href="#simple-tag-now-wraps-tag-output-in-conditional-escape"><tt class="docutils literal"><span class="pre">simple_tag</span></tt> now wraps tag output in <tt class="docutils literal"><span class="pre">conditional_escape</span></tt></a></li>
<li><a class="reference internal" href="#paginator-page-range"><tt class="docutils literal"><span class="pre">Paginator.page_range</span></tt></a></li>
<li><a class="reference internal" href="#implicit-queryset-in-lookup-removed">Implicit <tt class="docutils literal"><span class="pre">QuerySet</span></tt> <tt class="docutils literal"><span class="pre">__in</span></tt> lookup removed</a></li>
<li><a class="reference internal" href="#contrib-admin-browser-support"><tt class="docutils literal"><span class="pre">contrib.admin</span></tt> browser support</a></li>
<li><a class="reference internal" href="#syntaxerror-when-installing-django-setuptools-5-5-x"><tt class="docutils literal"><span class="pre">SyntaxError</span></tt> when installing Django setuptools 5.5.x</a></li>
<li><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li><a class="reference internal" href="#features-deprecated-in-1-9">Features deprecated in 1.9</a><ul>
<li><a class="reference internal" href="#assignment-tag"><tt class="docutils literal"><span class="pre">assignment_tag()</span></tt></a></li>
<li><a class="reference internal" href="#cycle-syntax-with-comma-separated-arguments"><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">cycle</span> <span class="pre">%}</span></tt> syntax with comma-separated arguments</a></li>
<li><a class="reference internal" href="#foreignkey-and-onetoonefield-on-delete-argument"><tt class="docutils literal"><span class="pre">ForeignKey</span></tt> and <tt class="docutils literal"><span class="pre">OneToOneField</span></tt> <tt class="docutils literal"><span class="pre">on_delete</span></tt> argument</a></li>
<li><a class="reference internal" href="#field-rel-changes"><tt class="docutils literal"><span class="pre">Field.rel</span></tt> changes</a></li>
<li><a class="reference internal" href="#geomanager-and-geoqueryset-custom-methods"><tt class="docutils literal"><span class="pre">GeoManager</span></tt> and <tt class="docutils literal"><span class="pre">GeoQuerySet</span></tt> custom methods</a></li>
<li><a class="reference internal" href="#template-loader-apis-have-changed">Template loader APIs have changed</a></li>
<li><a class="reference internal" href="#passing-a-3-tuple-or-an-app-name-to-include">Passing a 3-tuple or an <tt class="docutils literal"><span class="pre">app_name</span></tt> to <tt class="docutils literal"><span class="pre">include()</span></tt></a></li>
<li><a class="reference internal" href="#url-application-namespace-required-if-setting-an-instance-namespace">URL application namespace required if setting an instance namespace</a></li>
<li><a class="reference internal" href="#current-app-parameter-to-contrib-auth-views"><tt class="docutils literal"><span class="pre">current_app</span></tt> parameter to <tt class="docutils literal"><span class="pre">contrib.auth</span></tt> views</a></li>
<li><a class="reference internal" href="#django-contrib-gis-geoip"><tt class="docutils literal"><span class="pre">django.contrib.gis.geoip</span></tt></a></li>
<li><a class="reference internal" href="#id1">Miscellaneous</a></li>
</ul>
</li>
<li><a class="reference internal" href="#features-removed-in-1-9">Features removed in 1.9</a></li>
</ul>
</li>
</ul>

  <h3>Browse</h3>
  <ul>
    
      <li>Prev: <a href="1.9.1.html">Django 1.9.1 release notes</a></li>
    
    
      <li>Next: <a href="1.8.8.html">Django 1.8.8 release notes</a></li>
    
  </ul>
  <h3>You are here:</h3>
  <ul>
      <li>
        <a href="../index.html">Django 1.9.1.dev20151230225111 documentation</a>
        
          <ul><li><a href="index.html">Release notes</a>
        
        <ul><li>Django 1.9 release notes</li></ul>
        </li></ul>
      </li>
  </ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/releases/1.9.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
              <h3>Last update:</h3>
              <p class="topless">Dec 30, 2015</p>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="1.9.1.html" title="Django 1.9.1 release notes">previous</a>
     |
    <a href="index.html" title="Release notes" accesskey="U">up</a>
   |
    <a href="1.8.8.html" title="Django 1.8.8 release notes">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>